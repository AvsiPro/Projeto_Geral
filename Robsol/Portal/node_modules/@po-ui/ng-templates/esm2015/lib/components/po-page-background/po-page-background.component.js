import { Component, EventEmitter, Input, Output } from '@angular/core';
import { PoLanguageService, poLanguageDefault } from '@po-ui/ng-components';
import { convertToBoolean, isTypeof } from './../../utils/util';
/**
 * @docsPrivate
 *
 * @description
 *
 * Componente para definição de cor de fundo e dos logotipos primário e secundário para os templates
 * de `po-page-login` e demais templates de login.
 */
export class PoPageBackgroundComponent {
    constructor(poLanguageService) {
        this.poLanguageService = poLanguageService;
        /**
         * @optional
         *
         * @description
         *
         * Evento disparado ao selecionar alguma opção no seletor de idiomas.
         * Para este evento será passado como parâmetro o valor de idioma selecionado.
         */
        this.selectedLanguage = new EventEmitter();
        this._showSelectLanguage = false;
    }
    /** Lista de idiomas para o combo box */
    set languagesList(value) {
        this._languagesList = value;
        this.setLanguageOptions();
    }
    get languagesList() {
        var _a;
        if ((_a = this._languagesList) === null || _a === void 0 ? void 0 : _a.length) {
            return this._languagesList;
        }
        return poLanguageDefault;
    }
    /** Caminho para a logomarca localizada na parte superior. */
    set logo(value) {
        this._logo = isTypeof(value, 'string') && value.trim() ? value : undefined;
    }
    get logo() {
        return this._logo;
    }
    /**
     * @optional
     *
     * @description
     *
     * Caminho para a logomarca localizada no rodapé.
     */
    set secondaryLogo(value) {
        this._secondaryLogo = isTypeof(value, 'string') && value.trim() ? value : undefined;
    }
    get secondaryLogo() {
        return this._secondaryLogo;
    }
    /** Define se o seletor de idiomas deve ser exibido. */
    set showSelectLanguage(showSelectLanguage) {
        this._showSelectLanguage = convertToBoolean(showSelectLanguage);
    }
    get showSelectLanguage() {
        return this._showSelectLanguage;
    }
    ngOnInit() {
        this.selectedLanguageOption = this.initialSelectLanguage || this.poLanguageService.getShortLanguage();
    }
    onChangeLanguage() {
        this.selectedLanguage.emit(this.selectedLanguageOption);
    }
    get selectLanguageOptions() {
        return this._selectLanguageOptions;
    }
    setLanguageOptions() {
        this._selectLanguageOptions = this.languagesList.map(language => ({
            label: language.description,
            value: language.language
        }));
    }
}
PoPageBackgroundComponent.decorators = [
    { type: Component, args: [{
                selector: 'po-page-background',
                template: "<div class=\"po-page-login-container\">\r\n  <div class=\"po-page-login-panel\">\r\n    <img\r\n      *ngIf=\"logo\"\r\n      class=\"po-page-background-main-logo\"\r\n      [class.po-page-background-hide-logo]=\"hideLogo\"\r\n      alt=\"main-logo\"\r\n      [src]=\"logo\"\r\n    />\r\n\r\n    <div class=\"po-page-login-body\">\r\n      <div class=\"po-page-login-panel-content\">\r\n        <ng-content></ng-content>\r\n      </div>\r\n    </div>\r\n    <div class=\"po-page-background-footer po-sm-12\">\r\n      <po-divider class=\"po-page-background-footer-mobile-only\"></po-divider>\r\n\r\n      <div class=\"po-page-background-footer-content\">\r\n        <div *ngIf=\"showSelectLanguage\" class=\"po-page-background-footer-select\">\r\n          <po-select\r\n            name=\"selectedLanguageOption\"\r\n            [(ngModel)]=\"selectedLanguageOption\"\r\n            [p-options]=\"selectLanguageOptions\"\r\n            (p-change)=\"onChangeLanguage()\"\r\n          >\r\n          </po-select>\r\n        </div>\r\n\r\n        <div\r\n          class=\"po-page-background-secondary-logo\"\r\n          [ngClass]=\"\r\n            showSelectLanguage\r\n              ? 'po-page-background-secondary-logo-right'\r\n              : 'po-page-background-secondary-logo-centered'\r\n          \"\r\n        >\r\n          <img\r\n            *ngIf=\"secondaryLogo\"\r\n            class=\"po-page-background-secondary-logo-image\"\r\n            alt=\"secondary-logo\"\r\n            [src]=\"secondaryLogo\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div\r\n    *ngIf=\"background\"\r\n    [ngClass]=\"background ? 'po-page-login-highlight-image' : 'po-page-login-highlight-image-off'\"\r\n    [style.background-image]=\"'url(' + background + ')'\"\r\n  >\r\n    <div class=\"po-page-login-highlight-text\">\r\n      <div class=\"po-font-display\">{{ highlightInfo }}</div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"
            },] }
];
PoPageBackgroundComponent.ctorParameters = () => [
    { type: PoLanguageService }
];
PoPageBackgroundComponent.propDecorators = {
    background: [{ type: Input, args: ['p-background',] }],
    initialSelectLanguage: [{ type: Input, args: ['p-initial-language',] }],
    hideLogo: [{ type: Input, args: ['p-hide-logo',] }],
    highlightInfo: [{ type: Input, args: ['p-highlight-info',] }],
    selectedLanguage: [{ type: Output, args: ['p-selected-language',] }],
    languagesList: [{ type: Input, args: ['p-languages',] }],
    logo: [{ type: Input, args: ['p-logo',] }],
    secondaryLogo: [{ type: Input, args: ['p-secondary-logo',] }],
    showSelectLanguage: [{ type: Input, args: ['p-show-select-language',] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1iYWNrZ3JvdW5kLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3RlbXBsYXRlcy9zcmMvbGliL2NvbXBvbmVudHMvcG8tcGFnZS1iYWNrZ3JvdW5kL3BvLXBhZ2UtYmFja2dyb3VuZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFVLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUvRSxPQUFPLEVBQWtCLGlCQUFpQixFQUFjLGlCQUFpQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFFeEcsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFFBQVEsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBT2hFOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLE9BQU8seUJBQXlCO0lBNEVwQyxZQUFtQixpQkFBb0M7UUFBcEMsc0JBQWlCLEdBQWpCLGlCQUFpQixDQUFtQjtRQS9EdkQ7Ozs7Ozs7V0FPRztRQUM0QixxQkFBZ0IsR0FBeUIsSUFBSSxZQUFZLEVBQVUsQ0FBQztRQU0zRix3QkFBbUIsR0FBYSxLQUFLLENBQUM7SUFpRFksQ0FBQztJQTdDM0Qsd0NBQXdDO0lBQ3hDLElBQTBCLGFBQWEsQ0FBQyxLQUF3QjtRQUM5RCxJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztRQUM1QixJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBRUQsSUFBSSxhQUFhOztRQUNmLElBQUksTUFBQSxJQUFJLENBQUMsY0FBYywwQ0FBRSxNQUFNLEVBQUU7WUFDL0IsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO1NBQzVCO1FBQ0QsT0FBTyxpQkFBaUIsQ0FBQztJQUMzQixDQUFDO0lBRUQsNkRBQTZEO0lBQzdELElBQXFCLElBQUksQ0FBQyxLQUFVO1FBQ2xDLElBQUksQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsSUFBSSxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0lBQzdFLENBQUM7SUFFRCxJQUFJLElBQUk7UUFDTixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDcEIsQ0FBQztJQUVEOzs7Ozs7T0FNRztJQUNILElBQStCLGFBQWEsQ0FBQyxLQUFVO1FBQ3JELElBQUksQ0FBQyxjQUFjLEdBQUcsUUFBUSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsSUFBSSxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0lBQ3RGLENBQUM7SUFFRCxJQUFJLGFBQWE7UUFDZixPQUFPLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDN0IsQ0FBQztJQUVELHVEQUF1RDtJQUN2RCxJQUFxQyxrQkFBa0IsQ0FBQyxrQkFBMkI7UUFDakYsSUFBSSxDQUFDLG1CQUFtQixHQUFHLGdCQUFnQixDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDbEUsQ0FBQztJQUNELElBQUksa0JBQWtCO1FBQ3BCLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDO0lBQ2xDLENBQUM7SUFJRCxRQUFRO1FBQ04sSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxxQkFBcUIsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUN4RyxDQUFDO0lBRUQsZ0JBQWdCO1FBQ2QsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBRUQsSUFBSSxxQkFBcUI7UUFDdkIsT0FBTyxJQUFJLENBQUMsc0JBQXNCLENBQUM7SUFDckMsQ0FBQztJQUVPLGtCQUFrQjtRQUN4QixJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQWlCLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNoRixLQUFLLEVBQUUsUUFBUSxDQUFDLFdBQVc7WUFDM0IsS0FBSyxFQUFFLFFBQVEsQ0FBQyxRQUFRO1NBQ3pCLENBQUMsQ0FBQyxDQUFDO0lBQ04sQ0FBQzs7O1lBNUdGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsb0JBQW9CO2dCQUM5Qiw0N0RBQWtEO2FBQ25EOzs7WUFQd0IsaUJBQWlCOzs7eUJBbUJ2QyxLQUFLLFNBQUMsY0FBYztvQ0FHcEIsS0FBSyxTQUFDLG9CQUFvQjt1QkFHMUIsS0FBSyxTQUFDLGFBQWE7NEJBR25CLEtBQUssU0FBQyxrQkFBa0I7K0JBVXhCLE1BQU0sU0FBQyxxQkFBcUI7NEJBVzVCLEtBQUssU0FBQyxhQUFhO21CQWFuQixLQUFLLFNBQUMsUUFBUTs0QkFlZCxLQUFLLFNBQUMsa0JBQWtCO2lDQVN4QixLQUFLLFNBQUMsd0JBQXdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgUG9TZWxlY3RPcHRpb24sIFBvTGFuZ3VhZ2VTZXJ2aWNlLCBQb0xhbmd1YWdlLCBwb0xhbmd1YWdlRGVmYXVsdCB9IGZyb20gJ0Bwby11aS9uZy1jb21wb25lbnRzJztcclxuXHJcbmltcG9ydCB7IGNvbnZlcnRUb0Jvb2xlYW4sIGlzVHlwZW9mIH0gZnJvbSAnLi8uLi8uLi91dGlscy91dGlsJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAncG8tcGFnZS1iYWNrZ3JvdW5kJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vcG8tcGFnZS1iYWNrZ3JvdW5kLmNvbXBvbmVudC5odG1sJ1xyXG59KVxyXG5cclxuLyoqXHJcbiAqIEBkb2NzUHJpdmF0ZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogQ29tcG9uZW50ZSBwYXJhIGRlZmluacOnw6NvIGRlIGNvciBkZSBmdW5kbyBlIGRvcyBsb2dvdGlwb3MgcHJpbcOhcmlvIGUgc2VjdW5kw6FyaW8gcGFyYSBvcyB0ZW1wbGF0ZXNcclxuICogZGUgYHBvLXBhZ2UtbG9naW5gIGUgZGVtYWlzIHRlbXBsYXRlcyBkZSBsb2dpbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQb1BhZ2VCYWNrZ3JvdW5kQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuICAvKiogSW5zZXJlIHVtYSBpbWFnZW0gZGUgZGVzdGFxdWUgYW8gbGFkbyBkaXJlaXRvIGRvIGNvbnRhaW5lci4gKi9cclxuICBASW5wdXQoJ3AtYmFja2dyb3VuZCcpIGJhY2tncm91bmQ/OiBzdHJpbmc7XHJcblxyXG4gIC8qKiBJZGlvbWEgaW5pY2lhbCBzZWxlY2lvbmFkbyBubyBjb21ibyAqL1xyXG4gIEBJbnB1dCgncC1pbml0aWFsLWxhbmd1YWdlJykgaW5pdGlhbFNlbGVjdExhbmd1YWdlPzogc3RyaW5nO1xyXG5cclxuICAvKiogRGVzaWduYSBzZSBvIGxvZ290aXBvIGRldmUgZGVzYXBhcmVjZXIgZW0gcmVzb2x1w6fDtWVzIG1lbm9yZXMuICovXHJcbiAgQElucHV0KCdwLWhpZGUtbG9nbycpIGhpZGVMb2dvPzogYm9vbGVhbjtcclxuXHJcbiAgLyoqIFRleHRvIGRlIGRlc3RhcXVlIHNvYnJlcG9zdG8gw6AgaW1hZ2VtIGRlIGRlc3RhcXVlLiBFc3NhIG9ww6fDo28gw6kgdXRpbGl6YWRhIGVtIGNvbmp1bnRvIGNvbSBvIGF0cmlidXRvIGBwLWJhY2tncm91bmRgLiAqL1xyXG4gIEBJbnB1dCgncC1oaWdobGlnaHQtaW5mbycpIGhpZ2hsaWdodEluZm8/OiBzdHJpbmc7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBvcHRpb25hbFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBFdmVudG8gZGlzcGFyYWRvIGFvIHNlbGVjaW9uYXIgYWxndW1hIG9ww6fDo28gbm8gc2VsZXRvciBkZSBpZGlvbWFzLlxyXG4gICAqIFBhcmEgZXN0ZSBldmVudG8gc2Vyw6EgcGFzc2FkbyBjb21vIHBhcsOibWV0cm8gbyB2YWxvciBkZSBpZGlvbWEgc2VsZWNpb25hZG8uXHJcbiAgICovXHJcbiAgQE91dHB1dCgncC1zZWxlY3RlZC1sYW5ndWFnZScpIHNlbGVjdGVkTGFuZ3VhZ2U6IEV2ZW50RW1pdHRlcjxzdHJpbmc+ID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmc+KCk7XHJcblxyXG4gIHNlbGVjdGVkTGFuZ3VhZ2VPcHRpb246IHN0cmluZztcclxuXHJcbiAgcHJpdmF0ZSBfbG9nbz86IHN0cmluZztcclxuICBwcml2YXRlIF9zZWNvbmRhcnlMb2dvPzogc3RyaW5nO1xyXG4gIHByaXZhdGUgX3Nob3dTZWxlY3RMYW5ndWFnZT86IGJvb2xlYW4gPSBmYWxzZTtcclxuICBwcml2YXRlIF9sYW5ndWFnZXNMaXN0OiBBcnJheTxQb0xhbmd1YWdlPjtcclxuICBwcml2YXRlIF9zZWxlY3RMYW5ndWFnZU9wdGlvbnM6IEFycmF5PFBvU2VsZWN0T3B0aW9uPjtcclxuXHJcbiAgLyoqIExpc3RhIGRlIGlkaW9tYXMgcGFyYSBvIGNvbWJvIGJveCAqL1xyXG4gIEBJbnB1dCgncC1sYW5ndWFnZXMnKSBzZXQgbGFuZ3VhZ2VzTGlzdCh2YWx1ZTogQXJyYXk8UG9MYW5ndWFnZT4pIHtcclxuICAgIHRoaXMuX2xhbmd1YWdlc0xpc3QgPSB2YWx1ZTtcclxuICAgIHRoaXMuc2V0TGFuZ3VhZ2VPcHRpb25zKCk7XHJcbiAgfVxyXG5cclxuICBnZXQgbGFuZ3VhZ2VzTGlzdCgpOiBBcnJheTxQb0xhbmd1YWdlPiB7XHJcbiAgICBpZiAodGhpcy5fbGFuZ3VhZ2VzTGlzdD8ubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9sYW5ndWFnZXNMaXN0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBvTGFuZ3VhZ2VEZWZhdWx0O1xyXG4gIH1cclxuXHJcbiAgLyoqIENhbWluaG8gcGFyYSBhIGxvZ29tYXJjYSBsb2NhbGl6YWRhIG5hIHBhcnRlIHN1cGVyaW9yLiAqL1xyXG4gIEBJbnB1dCgncC1sb2dvJykgc2V0IGxvZ28odmFsdWU6IGFueSkge1xyXG4gICAgdGhpcy5fbG9nbyA9IGlzVHlwZW9mKHZhbHVlLCAnc3RyaW5nJykgJiYgdmFsdWUudHJpbSgpID8gdmFsdWUgOiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBnZXQgbG9nbygpIHtcclxuICAgIHJldHVybiB0aGlzLl9sb2dvO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG9wdGlvbmFsXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIENhbWluaG8gcGFyYSBhIGxvZ29tYXJjYSBsb2NhbGl6YWRhIG5vIHJvZGFww6kuXHJcbiAgICovXHJcbiAgQElucHV0KCdwLXNlY29uZGFyeS1sb2dvJykgc2V0IHNlY29uZGFyeUxvZ28odmFsdWU6IGFueSkge1xyXG4gICAgdGhpcy5fc2Vjb25kYXJ5TG9nbyA9IGlzVHlwZW9mKHZhbHVlLCAnc3RyaW5nJykgJiYgdmFsdWUudHJpbSgpID8gdmFsdWUgOiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBnZXQgc2Vjb25kYXJ5TG9nbygpIHtcclxuICAgIHJldHVybiB0aGlzLl9zZWNvbmRhcnlMb2dvO1xyXG4gIH1cclxuXHJcbiAgLyoqIERlZmluZSBzZSBvIHNlbGV0b3IgZGUgaWRpb21hcyBkZXZlIHNlciBleGliaWRvLiAqL1xyXG4gIEBJbnB1dCgncC1zaG93LXNlbGVjdC1sYW5ndWFnZScpIHNldCBzaG93U2VsZWN0TGFuZ3VhZ2Uoc2hvd1NlbGVjdExhbmd1YWdlOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLl9zaG93U2VsZWN0TGFuZ3VhZ2UgPSBjb252ZXJ0VG9Cb29sZWFuKHNob3dTZWxlY3RMYW5ndWFnZSk7XHJcbiAgfVxyXG4gIGdldCBzaG93U2VsZWN0TGFuZ3VhZ2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fc2hvd1NlbGVjdExhbmd1YWdlO1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IocHVibGljIHBvTGFuZ3VhZ2VTZXJ2aWNlOiBQb0xhbmd1YWdlU2VydmljZSkge31cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkTGFuZ3VhZ2VPcHRpb24gPSB0aGlzLmluaXRpYWxTZWxlY3RMYW5ndWFnZSB8fCB0aGlzLnBvTGFuZ3VhZ2VTZXJ2aWNlLmdldFNob3J0TGFuZ3VhZ2UoKTtcclxuICB9XHJcblxyXG4gIG9uQ2hhbmdlTGFuZ3VhZ2UoKSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkTGFuZ3VhZ2UuZW1pdCh0aGlzLnNlbGVjdGVkTGFuZ3VhZ2VPcHRpb24pO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHNlbGVjdExhbmd1YWdlT3B0aW9ucygpOiBBcnJheTxQb1NlbGVjdE9wdGlvbj4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdExhbmd1YWdlT3B0aW9ucztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0TGFuZ3VhZ2VPcHRpb25zKCkge1xyXG4gICAgdGhpcy5fc2VsZWN0TGFuZ3VhZ2VPcHRpb25zID0gdGhpcy5sYW5ndWFnZXNMaXN0Lm1hcDxQb1NlbGVjdE9wdGlvbj4obGFuZ3VhZ2UgPT4gKHtcclxuICAgICAgbGFiZWw6IGxhbmd1YWdlLmRlc2NyaXB0aW9uLFxyXG4gICAgICB2YWx1ZTogbGFuZ3VhZ2UubGFuZ3VhZ2VcclxuICAgIH0pKTtcclxuICB9XHJcbn1cclxuIl19