{"version":3,"file":"po-ui-ng-storage.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","../../../projects/storage/src/lib/drivers/lokijs/po-loki-driver.ts","../../../projects/storage/src/lib/services/po-storage.service.ts","../../../projects/storage/src/lib/po-storage.module.ts","../../../projects/storage/src/po-ui-ng-storage.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import Loki from 'lokijs';\r\nimport LokiIndexedAdapter from 'lokijs/src/loki-indexed-adapter';\r\n\r\nconst keyField = 'key';\r\n\r\nexport class PoLokiDriver {\r\n  private collection;\r\n  private db: any;\r\n  private driver: any;\r\n\r\n  constructor() {\r\n    const self = this;\r\n    this.driver = {\r\n      _driver: 'lokijs',\r\n      _initStorage: function (options: any) {\r\n        return self.initStorage(options);\r\n      },\r\n      clear: function () {\r\n        return self.clear(this);\r\n      },\r\n      getItem: function (key: any) {\r\n        return self.getItem(this, key);\r\n      },\r\n      iterate: function (iteratorCallback: any) {\r\n        return self.iterate(this, iteratorCallback);\r\n      },\r\n      key: function (n: any) {\r\n        return self.key(this, n);\r\n      },\r\n      keys: function () {\r\n        return self.keys(this);\r\n      },\r\n      length: function () {\r\n        return self.length(this);\r\n      },\r\n      removeItem: function (key: any) {\r\n        return self.removeItem(this, key);\r\n      },\r\n      setItem: function (key: any, value: any) {\r\n        return self.setItem(this, key, value);\r\n      }\r\n    };\r\n  }\r\n\r\n  // Funções de iteração\r\n\r\n  private clear(localforage: any) {\r\n    return new Promise(resolve => {\r\n      localforage.ready().then(() => {\r\n        if (this.hasCollectionAndDataInCollection()) {\r\n          this.clearCollection();\r\n        }\r\n        resolve(null);\r\n      });\r\n    });\r\n  }\r\n\r\n  private getItem(localforage: any, key: any) {\r\n    return new Promise(resolve => {\r\n      localforage.ready().then(() => {\r\n        if (this.hasCollectionAndDataInCollection()) {\r\n          const item = this.getItemInCollectionBy(keyField, key);\r\n          if (item) {\r\n            resolve(item.value);\r\n          }\r\n        }\r\n        resolve(null);\r\n      });\r\n    });\r\n  }\r\n\r\n  private initStorage(options: any) {\r\n    return new Promise(resolve => {\r\n      try {\r\n        this.configureLokiStorage(options, this.databaseInitialize.bind(this, options, resolve));\r\n      } catch {\r\n        throw new Error(`Cannot configure Loki Storage`);\r\n      }\r\n    });\r\n  }\r\n\r\n  private iterate(localforage: any, iteratorCallback: Function) {\r\n    return new Promise(resolve => {\r\n      localforage.ready().then(() => {\r\n        if (this.hasCollectionAndDataInCollection()) {\r\n          this.iterateWithDataItem(iteratorCallback);\r\n        }\r\n        resolve(null);\r\n      });\r\n    });\r\n  }\r\n\r\n  private key(localforage: any, n: string | number) {\r\n    return new Promise(resolve => {\r\n      localforage.ready().then(() => {\r\n        if (this.hasCollection()) {\r\n          const map = this.getLokiMap();\r\n          resolve(map[n]);\r\n        }\r\n        resolve(null);\r\n      });\r\n    });\r\n  }\r\n\r\n  private keys(localforage: any) {\r\n    return new Promise(resolve => {\r\n      localforage.ready().then(() => {\r\n        if (this.hasCollection()) {\r\n          const keys = [];\r\n          const map = this.getLokiMap();\r\n          for (const key of Object.keys(map)) {\r\n            keys.push(map[key]);\r\n          }\r\n          resolve(keys);\r\n        }\r\n        resolve(null);\r\n      });\r\n    });\r\n  }\r\n\r\n  private length(localforage: any) {\r\n    return new Promise(resolve => {\r\n      localforage.ready().then(() => {\r\n        if (this.hasCollection()) {\r\n          resolve(this.getNumberItensInCollection());\r\n        }\r\n        resolve(0);\r\n      });\r\n    });\r\n  }\r\n\r\n  private removeItem(localforage: any, key: any) {\r\n    return new Promise(resolve => {\r\n      localforage.ready().then(() => {\r\n        if (this.hasCollection()) {\r\n          this.findAndRemoveItem(key);\r\n        }\r\n        resolve(null);\r\n      });\r\n    });\r\n  }\r\n\r\n  private setItem(localforage: any, key: any, value: any) {\r\n    return new Promise(resolve => {\r\n      localforage.ready().then(() => {\r\n        if (this.hasCollection()) {\r\n          let item: any;\r\n          if (this.hasDataInCollection()) {\r\n            item = this.getItemInCollectionBy(keyField, key);\r\n          }\r\n          this.insertOrUpdate(item, value, key);\r\n        }\r\n        resolve(value);\r\n      });\r\n    });\r\n  }\r\n\r\n  // Funções de acesso ao storage\r\n\r\n  // eslint-disable-next-line @typescript-eslint/member-ordering\r\n  getDriver() {\r\n    return this.driver;\r\n  }\r\n\r\n  private addCollection(options: any): any {\r\n    return this.db.addCollection(options.storeName, { unique: [keyField] });\r\n  }\r\n\r\n  private clearCollection() {\r\n    this.collection.clear({ removeIndices: false });\r\n  }\r\n\r\n  private configureLokiStorage(options: any, databaseInitialize: any) {\r\n    const idbAdapter = new LokiIndexedAdapter();\r\n    this.db = new Loki(options.name, {\r\n      adapter: idbAdapter,\r\n      autoload: true,\r\n      autoloadCallback: databaseInitialize,\r\n      autosave: true,\r\n      autosaveInterval: 4000\r\n    });\r\n  }\r\n\r\n  private findAndRemoveItem(key: any) {\r\n    this.collection.findAndRemove({ [keyField]: key });\r\n  }\r\n\r\n  private getCollection(options: any): any {\r\n    return this.db.getCollection(options.storeName);\r\n  }\r\n\r\n  private databaseInitialize(options: any, resolve: Function) {\r\n    this.collection = this.getCollection(options);\r\n    if (!this.hasCollection()) {\r\n      this.collection = this.addCollection(options);\r\n    }\r\n    resolve();\r\n  }\r\n\r\n  private getItemInCollectionBy(fieldKey: string, key: any) {\r\n    return this.collection.by(fieldKey, key);\r\n  }\r\n\r\n  private getLokiMap() {\r\n    return this.collection.constraints.unique[keyField].lokiMap;\r\n  }\r\n\r\n  private hasCollection() {\r\n    return this.collection;\r\n  }\r\n\r\n  private hasDataInCollection() {\r\n    return this.collection.data && this.collection.data.length;\r\n  }\r\n\r\n  private hasCollectionAndDataInCollection() {\r\n    return this.hasCollection() && this.hasDataInCollection();\r\n  }\r\n\r\n  private insertOrUpdate(item: any, value: any, key: any) {\r\n    if (item) {\r\n      item.value = value;\r\n      this.collection.update(item);\r\n    } else {\r\n      this.collection.insert({ [keyField]: key, value: value });\r\n    }\r\n  }\r\n\r\n  private iterateWithDataItem(iteratorcallback: Function) {\r\n    this.collection.data.forEach(element => {\r\n      iteratorcallback(element.value, element[keyField], element.$loki);\r\n    });\r\n  }\r\n\r\n  private getNumberItensInCollection(): number {\r\n    return this.collection.count();\r\n  }\r\n}\r\n","import { Inject, Injectable, InjectionToken } from '@angular/core';\r\n\r\nimport * as LocalForage from 'localforage';\r\nimport 'localforage';\r\n\r\nimport IdleQueue from 'custom-idle-queue';\r\n\r\nimport { PoLokiDriver } from '../drivers/lokijs/po-loki-driver';\r\nimport { PoStorageConfig } from './po-storage-config.interface';\r\n\r\nexport const PO_STORAGE_CONFIG_TOKEN = new InjectionToken('PO_STORAGE_CONFIG_TOKEN');\r\n\r\n/**\r\n * @description\r\n *\r\n * O PO Storage é uma biblioteca que fornece um serviço para armazenamento de dados no dispositivo local, sendo semelhante\r\n * ao funcionamento do [IonicStorage](https://ionicframework.com/docs/storage/).\r\n * É possível utilizar os drivers [Websql](https://dev.w3.org/html5/webdatabase/), [Indexeddb](https://www.w3.org/TR/IndexedDB/),\r\n * [LocalStorage](https://html.spec.whatwg.org/multipage/webstorage.html) e também [LokiJS](https://github.com/techfort/LokiJS/wiki).\r\n *\r\n * Para um melhor ganho de performance ao buscar e salvar dados, recomendamos a utilização do `LokiJS`, um *database*\r\n * orientado a documento semelhante ao MongoDB, que além de permitir a persistência dos dados no dispositivo possibilita\r\n * também o armazenamento dos dados em memória. Outra vantagem, é o aumento do limite de armazenamento para\r\n * aproximadamente `300mb`.\r\n *\r\n * A estrutura utilizada para armazenar os dados é a de chave/valor, onde uma chave funciona como um identificador exclusivo.\r\n *\r\n * #### Instalando o PO Storage\r\n *\r\n * Para instalar o `po-storage` em sua aplicação execute o seguinte comando:\r\n *\r\n * ```shell\r\n * ng add @po-ui/ng-storage\r\n * ```\r\n * Será instalado o pacote `@po-ui/ng-storage` e também já importará `PoStorageModule` no módulo principal da sua aplicação, conforme abaixo:\r\n *\r\n * ```typescript\r\n * import { PoStorageModule } from '@po-ui/ng-storage';\r\n *\r\n * @NgModule({\r\n *  declarations: [...],\r\n *  imports: [\r\n *    // Importação do módulo PoStorageModule\r\n *    PoStorageModule.forRoot(),\r\n *  ],\r\n *  bootstrap: [IonicApp],\r\n *  providers: [...]\r\n * })\r\n * export class AppModule {}\r\n * ```\r\n *\r\n * Com a declaração do módulo, é criada uma base de dados no armazenamento local e o serviço `PoStorageService` estará\r\n * pronto para ser utilizada na sua aplicação.\r\n *\r\n * #### Configurando as opções de armazenamento\r\n *\r\n * Na importação do módulo, o método `PoStorageModule.forRoot()` pode receber como parâmetro um objeto do tipo\r\n * [`PoStorageConfig`](documentation/po-storage#po-storage-config),\r\n * que serve para configurar as opções personalizadas do armazenamento, como por exemplo: o tipo de armazenamento\r\n * preferêncial.\r\n *\r\n * Caso não seja passada nenhuma configuração a ordem padrão será: ['websql', 'indexeddb', 'localstorage', 'lokijs'].\r\n *\r\n * Abaixo segue um exemplo de configuração onde o storage preferencial passa a ser o `lokijs`:\r\n *\r\n * ```typescript\r\n * import { PoStorageModule } from '@po-ui/ng-storage';\r\n *\r\n * @NgModule({\r\n *  declarations: [...],\r\n *  imports: [\r\n *    // Importação do módulo PoStorageModule com a configuração personalizada\r\n *    PoStorageModule.forRoot({\r\n *      name: 'mystorage',\r\n *      storeName: '_mystore',\r\n *      driverOrder: ['lokijs', 'websql', 'indexeddb', 'localstorage']\r\n *    }),\r\n *  ],\r\n *  bootstrap: [IonicApp],\r\n *  providers: [...]\r\n * })\r\n * export class AppModule {}\r\n * ```\r\n */\r\n@Injectable()\r\nexport class PoStorageService {\r\n  private driver: string = null;\r\n  private idleQueue = new IdleQueue();\r\n  private storagePromise: Promise<LocalForage>;\r\n  private lokijsDriver: PoLokiDriver;\r\n\r\n  constructor(@Inject(PO_STORAGE_CONFIG_TOKEN) config?: PoStorageConfig) {\r\n    this.lokijsDriver = new PoLokiDriver();\r\n    this.setStoragePromise(config);\r\n  }\r\n\r\n  /**\r\n   * Retorna a configuração padrão para o armazenamento. Caso nenhuma configuração seja inserida,\r\n   * essa configuração será utilizada.\r\n   *\r\n   * @returns {PoStorageConfig} Objeto com a configuração padrão do armazenamento.\r\n   */\r\n  static getDefaultConfig(): PoStorageConfig {\r\n    return {\r\n      name: '_postorage',\r\n      storeName: '_pokv',\r\n      driverOrder: ['websql', 'indexeddb', 'localstorage', 'lokijs']\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Cria uma instância do `PoStorageService` com a configuração de armazenamento passada como parâmetro.\r\n   *\r\n   * @param {PoStorageConfig} storageConfig Configuração para o armazenamento.\r\n   * @returns {PoStorageService} Instância do `PoStorageService`.\r\n   */\r\n  static providePoStorage(storageConfig?: PoStorageConfig): PoStorageService {\r\n    return new PoStorageService(PoStorageService.getConfig(storageConfig));\r\n  }\r\n\r\n  private static getConfig(storageConfig?: PoStorageConfig) {\r\n    return storageConfig || PoStorageService.getDefaultConfig();\r\n  }\r\n\r\n  /**\r\n   * Busca uma lista armazenada pela chave e concatena com a lista passada por parâmetro.\r\n   *\r\n   * Por exemplo:\r\n   *\r\n   * ``` typescript\r\n   * const clients = [ { name: 'Marie', age: 23 }, { name: 'Pether', age: 39 }];\r\n   *\r\n   * this.poStorageService.set('clientKey', clients).then(() => {});\r\n   *\r\n   * ...\r\n   *\r\n   * const newClients = [ { name: 'Lisa', age: 36 }, { name: 'Bruce', age: 18 } ];\r\n   *\r\n   * this.poStorageService.appendArrayToArray('clientKey', newClients).then(() => {\r\n   *   // A lista agora será:\r\n   *   // [ { name: 'Marie', age: 23 }, { name: 'Pether', age: 39 }, { name: 'Lisa', age: 36 }, { name: 'Bruce', age: 18 }];\r\n   * });\r\n   * ```\r\n   *\r\n   * @param {string} key Chave da lista armazenada.\r\n   * @param {Array} value Lista que será concatenada.\r\n   *\r\n   * @returns {Promise<any>} Promessa que é resolvida após as duas listas serem concatenadas e armazenadas localmente.\r\n   */\r\n  async appendArrayToArray(key: string, value: Array<any>): Promise<any> {\r\n    const data = await this.getArrayOfStorage(key);\r\n\r\n    const newData = [...data, ...value];\r\n    return this.set(key, newData);\r\n  }\r\n\r\n  /**\r\n   * Acrescenta um item em uma lista armazenada pela chave.\r\n   *\r\n   * @param {string} key Chave da lista armazenada.\r\n   * @param {Array} value Item que será acrescentado na lista.\r\n   *\r\n   * @returns {Promise<any>} Promessa que é resolvida após o item ser acrescentado na lista armazenada.\r\n   */\r\n  async appendItemToArray(key: string, value: any): Promise<any> {\r\n    const data = await this.getArrayOfStorage(key);\r\n\r\n    data.push(value);\r\n    return this.set(key, data);\r\n  }\r\n\r\n  /**\r\n   * Remove todos os itens da base de dados local configurada na declaração do módulo `PoStorageModule`.\r\n   *\r\n   * > Utilize este método com cautela, para evitar a perda indesejada de dados.\r\n   *\r\n   * @returns {Promise<void>} Promessa que é resolvida após todos os itens da base de dados local serem removidos.\r\n   */\r\n  clear(): Promise<void> {\r\n    return this.storagePromise.then(store => store.clear());\r\n  }\r\n\r\n  /**\r\n   * Verifica se existe um valor dentro de uma determinada chave.\r\n   *\r\n   * @param {string} key Chave que será verificada.\r\n   *\r\n   * @returns {Promise<boolean>} Promessa que é resolvida quando a verificação da existência do valor na chave é concluída.\r\n   */\r\n  exists(key: string): Promise<boolean> {\r\n    return this.get(key).then(data => Promise.resolve(data !== null));\r\n  }\r\n\r\n  /**\r\n   * Itera sobre todas as chaves armazenadas.\r\n   *\r\n   * @param {any} iteratorCallback Função de `callback` que é chamada a cada iteração, com os seguintes parâmetros:\r\n   * valor, chave e número da iteração.\r\n   *\r\n   * Exemplo de utilização:\r\n   *\r\n   * ``` typescript\r\n   * this.poStorageService.forEach((value: any, key: string, iterationNumber: number) => {\r\n   *   // Iteração sobre cada chave armazenada.\r\n   * });\r\n   * ```\r\n   *\r\n   * @returns {Promise<void>} Promessa que é resolvida após a iteração sobre todas as chaves armazenadas.\r\n   */\r\n  forEach(iteratorCallback: (value: any, key: string, iterationNumber: number) => any): Promise<void> {\r\n    return this.storagePromise.then(store => store.iterate(iteratorCallback));\r\n  }\r\n\r\n  /**\r\n   * Retorna o valor armazenado em uma determinada chave.\r\n   *\r\n   * @param {string} key Chave que identifica o item.\r\n   * @param {boolean} lock Define se irá travar a leitura e a escrita da base de dados para não ser acessada de forma paralela.\r\n   * Caso outra leitura/escrita já tenha sido iniciada, este método irá esperar o outro terminar para então começar.\r\n   *\r\n   * Padrão: `false`.\r\n   *\r\n   * > Esta definição só será válida se o outro acesso paralelo a este método também estiver com o parâmetro *lock* ativado.\r\n   * @returns {Promise<any>} Promessa que é resolvida após o item ser buscado.\r\n   */\r\n  async get(key: string, lock: boolean = false): Promise<any> {\r\n    if (lock) {\r\n      await this.requestIdlePromise();\r\n      return await this.idleQueue.wrapCall(async () => {\r\n        await this.getImmutableItem(key);\r\n      });\r\n    }\r\n    return await this.getImmutableItem(key);\r\n  }\r\n\r\n  /**\r\n   * Retorna o nome do *driver* que está sendo usado para armazenar os dados, por exemplo: localStorage.\r\n   *\r\n   * @returns {string | null} Nome do *driver*.\r\n   */\r\n  getDriver(): string {\r\n    return this.driver;\r\n  }\r\n\r\n  /**\r\n   * Retorna o primeiro item de uma lista para uma determinada chave.\r\n   *\r\n   * @param {string} key Chave da lista.\r\n   * @returns {Promise<any>} Promessa que é resolvida após o primeiro item ser encontrado.\r\n   */\r\n  getFirstItem(key: string): Promise<any> {\r\n    return this.get(key).then((data: Array<any>) => Promise.resolve(data ? data[0] : null));\r\n  }\r\n\r\n  /**\r\n   * Remove o primeiro item de uma lista a partir da chave.\r\n   *\r\n   * @param {string} key Chave da lista que será removido o primeiro item.\r\n   * @returns {Promise<any>} Promessa que é resolvida após o primeiro item da lista ser removido.\r\n   */\r\n  getItemAndRemove(key: string): Promise<any> {\r\n    return this.get(key).then((data: Array<any>) => {\r\n      if (data === null) {\r\n        return null;\r\n      }\r\n\r\n      const item = data.shift();\r\n      return this.set(key, data).then(() => Promise.resolve(item));\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Busca o primeiro objeto encontrado dentro de uma lista pelo do valor de um campo.\r\n   *\r\n   * Por exemplo:\r\n   *\r\n   * ``` typescript\r\n   * const clients = [ { name: 'Marie', age: 23 }, { name: 'Pether', age: 39 }];\r\n   *\r\n   * this.poStorageService.set('clientKey', clients).then(() => {});\r\n   *\r\n   * ...\r\n   *\r\n   * this.poStorageService.getItemByField('clientKey', 'name', 'Marie').then(client => {\r\n   *   // Resultado do console.log: { name: 'Marie', age: 23 }\r\n   *   console.log(client);\r\n   * });\r\n   * ```\r\n   *\r\n   * @param {string} key Chave da lista.\r\n   * @param {string} fieldName O campo a ser filtrado.\r\n   * @param {any} fieldValue O valor do campo.\r\n   * @returns {Promise<any>} Promessa que é resolvida com o item que foi encontrado.\r\n   */\r\n  getItemByField(key: string, fieldName: string, fieldValue: any): Promise<any> {\r\n    return this.get(key).then((storageRecords: Array<any>) => {\r\n      let storageRecordsFiltered = storageRecords.find(storageRecord => storageRecord[fieldName] === fieldValue);\r\n      storageRecordsFiltered = storageRecordsFiltered || null;\r\n\r\n      return Promise.resolve(storageRecordsFiltered);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Lista com todas as chaves armazenadas.\r\n   *\r\n   * @returns {Promise<Array<string>>} Promessa que é resolvida com todas as chaves armazenadas.\r\n   */\r\n  keys(): Promise<Array<string>> {\r\n    return this.storagePromise.then(store => store.keys());\r\n  }\r\n\r\n  /**\r\n   * Quantidade de chaves armazenadas.\r\n   *\r\n   * @returns {Promise<number>} Promessa que é resolvida com o número de chaves armazenadas.\r\n   */\r\n  length(): Promise<number> {\r\n    return this.storagePromise.then(store => store.length());\r\n  }\r\n\r\n  /**\r\n   * Utilizado para gerenciar o bloqueio e desbloqueio de recursos no `PoStorageService`.\r\n   * Aguardando a liberação da utilização dos recursos que participam deste comportamento e posteriormente envolve o recurso\r\n   * passado como parâmetro em um comportamento de bloqueio e desbloqueio.\r\n   *\r\n   * Este método se comporta igual a utilização em conjunta dos métodos: `PoStorageService.requestIdlePromise()`,\r\n   * `PoStorageService.lock()` e `PoStorageService.unlook()`.\r\n   *\r\n   * Veja mais no método: [`PoStorage.requestIdlePromise()`](documentation/po-storage#request-idle-promise).\r\n   *\r\n   * @param {Function} limitedResource Função que será envolvida no comportamento de bloqueio e desbloqueio.\r\n   */\r\n  async limitedCallWrap(limitedResource: Function): Promise<any> {\r\n    await this.requestIdlePromise();\r\n    return this.idleQueue.wrapCall(limitedResource);\r\n  }\r\n\r\n  /**\r\n   * Incrementa um valor na fila de bloqueio do `PoStorageService`. Utilizado juntamente com o método `unlock` para poder\r\n   * controlar a execução de uma determinada tarefa com o `PoStorage.requestIdlePromise()`.\r\n   *\r\n   * Veja mais no método: [`PoStorage.requestIdlePromise()`](documentation/po-storage#request-idle-promise).\r\n   */\r\n  lock() {\r\n    this.idleQueue.lock();\r\n  }\r\n\r\n  /**\r\n   * Determina se o processo de inicialização do *driver* assíncrono foi concluído.\r\n   *\r\n   * @returns {Promise<LocalForage>} Promessa que é resolvida quando o processo de inicialização do *driver* assíncrono\r\n   * for concluído.\r\n   */\r\n  ready(): Promise<LocalForage> {\r\n    return this.storagePromise;\r\n  }\r\n\r\n  /**\r\n   * Remove um valor associado a uma chave.\r\n   *\r\n   * @param {key} key Chave do valor que será removido.\r\n   * @returns {Promise<any>} Promessa que é resolvida após o valor ser removido.\r\n   */\r\n  remove(key: string): Promise<any> {\r\n    return this.storagePromise.then(store => store.removeItem(key));\r\n  }\r\n\r\n  /**\r\n   * Remove uma propriedade de um objeto armazenado.\r\n   *\r\n   * @param {string} key Chave do objeto armazenado.\r\n   * @param {string} property Propriedade que será removida.\r\n   *\r\n   * @returns {Promise<any>} Promessa que é resolvida após a propriedade ser removida.\r\n   */\r\n  async removeIndexFromObject(key: string, property: string): Promise<any> {\r\n    const data = await this.getObjectOfStorage(key);\r\n\r\n    delete data[property];\r\n    return this.set(key, data);\r\n  }\r\n\r\n  /**\r\n   * Remove um objeto de uma lista armazenada pelo valor de uma propriedade.\r\n   *\r\n   * Por exemplo:\r\n   *\r\n   * ``` typescript\r\n   * const clients = [ { name: 'Marie', age: 23 }, { name: 'Pether', age: 39 }];\r\n   *\r\n   * this.poStorageService.set('clientKey', clients).then(() => {});\r\n   *\r\n   * ...\r\n   *\r\n   * this.poStorageService.removeItemFromArray('clientKey', 'name', 'Marie').then(() => {\r\n   *   // O objeto { name: 'Marie', age: 23 } foi removido da lista que está na chave 'clientKey'\r\n   * });\r\n   * ```\r\n   *\r\n   * @param {string} key Chave da lista que contém o item que será removido.\r\n   * @param {string} field O campo a ser filtrado no item.\r\n   * @param {string} value O valor do filtro.\r\n   * @returns {Promise<any>} Promessa que é resolvida quando o objeto for removido da lista.\r\n   */\r\n  async removeItemFromArray(key: string, field: string, value: any): Promise<any> {\r\n    let data = await this.getArrayOfStorage(key);\r\n\r\n    data = data.filter(item => item[field] !== value);\r\n    return this.set(key, data);\r\n  }\r\n\r\n  /**\r\n   * <a id=\"request-idle-promise\"></a>\r\n   * Método que verifica se o acesso a base de dados configurada está liberado.\r\n   *\r\n   * Utilizado em conjunto com os métodos `lock()` e `unlock()` entre tarefas que não podem ser executadas de forma\r\n   * paralela, para não causar inconsistências nos dados.\r\n   *\r\n   * Exemplo de utilização:\r\n   *\r\n   * ```\r\n   * // Aguarda a liberação para continuar\r\n   * await this.poStorage.requestIdlePromise();\r\n   *\r\n   * this.poStorage.lock();\r\n   *\r\n   * // Executa uma tarefa que irá ler e/ou escrever na base de dados configurada.\r\n   *\r\n   * this.poStorage.unlock();\r\n   * ```\r\n   *\r\n   * > É importante sempre utilizá-lo antes de executar os métodos `lock()` e `unlock()` para garantir que a tarefa só\r\n   * será executada caso o acesso esteja livre.\r\n   *\r\n   * @returns {Promise<any>} Promessa que é resolvida quando o acesso a base de dados configurada estiver liberado.\r\n   */\r\n  requestIdlePromise(): Promise<any> {\r\n    return this.idleQueue.requestIdlePromise();\r\n  }\r\n\r\n  /**\r\n   * Grava um valor em uma determinada chave.\r\n   *\r\n   * @param {string} key Chave para o valor que será gravado.\r\n   * @param {any} value Valor que será gravado.\r\n   * @param {boolean} lock Define se irá travar a leitura e a escrita da base de dados para não ser acessada de forma paralela.\r\n   * Caso outra leitura/escrita já tenha sido iniciada, este método irá esperar o outro terminar para então começar.\r\n   *\r\n   * Padrão: `false`.\r\n   *\r\n   * > Esta definição só será válida se o outro acesso paralelo a este método também estiver com o parâmetro *lock* ativado.\r\n   * @returns {Promise<any>} Promessa que é resolvida após o valor ter sido gravado.\r\n   */\r\n  async set(key: string, value: any, lock: boolean = false): Promise<any> {\r\n    const store = await this.storagePromise;\r\n    const newValue = typeof value === 'object' ? JSON.parse(JSON.stringify(value)) : value;\r\n\r\n    if (lock) {\r\n      await this.requestIdlePromise();\r\n      return this.idleQueue.wrapCall(() => store.setItem(key, newValue));\r\n    }\r\n\r\n    return store.setItem(key, newValue);\r\n  }\r\n\r\n  /**\r\n   * Atribui um valor a uma propriedade de um objeto armazenado pela chave.\r\n   *\r\n   * Por exemplo:\r\n   *\r\n   * ``` typescript\r\n   * const clients = [ { name: 'Marie', age: 23 }, { name: 'Pether', age: 39 }];\r\n   *\r\n   * this.poStorageService.set('clientKey', clients).then(() => {});\r\n   *\r\n   * ...\r\n   *\r\n   * this.poStorageService.setIndexToObject('clientKey', 'name', 'Clare').then(() => {\r\n   *   // O objeto { name: 'Marie', age: 23 } passa a ser { name: 'Clare', age: 23 }\r\n   * });\r\n   * ```\r\n   *\r\n   * @param {string} key Chave do objeto.\r\n   * @param {string} property Nome da propriedade do objeto.\r\n   * @param {any} value Valor que será gravado na propriedade do objeto.\r\n   */\r\n  async setIndexToObject(key: string, property: string, value: any): Promise<any> {\r\n    const data = await this.getObjectOfStorage(key);\r\n\r\n    data[property] = value;\r\n    return this.set(key, data);\r\n  }\r\n\r\n  /**\r\n   * Decrementa um valor na fila de bloqueio. Utilizado juntamente com o método `lock` para poder\r\n   * controlar a execução de uma determinada tarefa com o `PoStorage.requestIdlePromise()`.\r\n   *\r\n   * Veja mais no método: [`PoStorage.requestIdlePromise()`](documentation/po-storage#request-idle-promise).\r\n   */\r\n  unlock() {\r\n    this.idleQueue.unlock();\r\n  }\r\n\r\n  private async getArrayOfStorage(key: string) {\r\n    const data = await this.get(key);\r\n    return data || [];\r\n  }\r\n\r\n  private async getImmutableItem(key: string) {\r\n    const store = await this.storagePromise;\r\n    const items = await store.getItem(key);\r\n    return items ? JSON.parse(JSON.stringify(items)) : null;\r\n  }\r\n\r\n  private async defineLocalForageDriver(localForageInstance: any, driverOrder) {\r\n    await localForageInstance.defineDriver(this.lokijsDriver.getDriver());\r\n    await this.setDriver(localForageInstance, driverOrder);\r\n    return localForageInstance;\r\n  }\r\n\r\n  private getDriverOrder(driverOrder: Array<string>): Array<string> {\r\n    return driverOrder.map(driver => {\r\n      switch (driver) {\r\n        case 'indexeddb':\r\n          return LocalForage.INDEXEDDB;\r\n        case 'websql':\r\n          return LocalForage.WEBSQL;\r\n        case 'localstorage':\r\n          return LocalForage.LOCALSTORAGE;\r\n        default:\r\n          return driver;\r\n      }\r\n    });\r\n  }\r\n\r\n  private async getObjectOfStorage(key: string) {\r\n    const data = await this.get(key);\r\n    return data || {};\r\n  }\r\n\r\n  private async setDriver(localForageInstance: LocalForage, driverOrder) {\r\n    await localForageInstance.setDriver(this.getDriverOrder(driverOrder));\r\n    this.driver = localForageInstance.driver();\r\n  }\r\n\r\n  private setStoragePromise(config: PoStorageConfig) {\r\n    this.storagePromise = this.getStorageInstance(config);\r\n  }\r\n\r\n  private async getStorageInstance(config: PoStorageConfig) {\r\n    const defaultConfig = PoStorageService.getDefaultConfig();\r\n    const actualConfig = Object.assign(defaultConfig, config || {});\r\n\r\n    const localForageInstance = LocalForage.createInstance(actualConfig);\r\n\r\n    try {\r\n      return await this.defineLocalForageDriver(localForageInstance, actualConfig.driverOrder);\r\n    } catch {\r\n      throw new Error(`Cannot use this drivers: ${actualConfig.driverOrder.join(', ')}.`);\r\n    }\r\n  }\r\n}\r\n","import { ModuleWithProviders, NgModule } from '@angular/core';\r\n\r\nimport { PoStorageConfig } from './services/po-storage-config.interface';\r\nimport { PoStorageService, PO_STORAGE_CONFIG_TOKEN } from './services/po-storage.service';\r\n\r\n/**\r\n * @description\r\n *\r\n * Módulo do componente PoStorage responsável por manipular o storage do browser.\r\n */\r\n\r\n@NgModule()\r\nexport class PoStorageModule {\r\n  static forRoot(storageConfig?: PoStorageConfig): ModuleWithProviders<PoStorageModule> {\r\n    return {\r\n      ngModule: PoStorageModule,\r\n      providers: [\r\n        {\r\n          provide: PO_STORAGE_CONFIG_TOKEN,\r\n          useValue: storageConfig || PoStorageService.getDefaultConfig()\r\n        },\r\n        {\r\n          provide: PoStorageService,\r\n          useFactory: PoStorageService.providePoStorage,\r\n          deps: [PO_STORAGE_CONFIG_TOKEN]\r\n        }\r\n      ]\r\n    };\r\n  }\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {PO_STORAGE_CONFIG_TOKEN as ɵa} from './lib/services/po-storage.service';"],"names":["LokiIndexedAdapter","Loki","InjectionToken","IdleQueue","LocalForage","Injectable","Inject","NgModule"],"mappings":"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"}