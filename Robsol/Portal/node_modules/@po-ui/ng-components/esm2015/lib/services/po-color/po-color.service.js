import { Injectable } from '@angular/core';
import { PoColorPaletteEnum } from '../../enums/po-color-palette.enum';
import { PoDefaultColors } from './po-colors.constant';
import * as i0 from "@angular/core";
const poColorPalette = Object.values(PoColorPaletteEnum);
export class PoColorService {
    constructor() {
        this.defaultColors = [];
    }
    /**
     * Avalia a propriedade `color` na lista de items passada. Caso sim, trata se é decimal ou string `po-color`. Caso não haja, retorna a cor default.
     *
     * @param data
     */
    getColors(data) {
        this.verifyIfHasColorProperty(data);
        return data.map((dataItem, index) => {
            if (dataItem.color) {
                dataItem.color = this.verifyIfIsPoColorPalette(dataItem.color);
                return dataItem;
            }
            const color = this.defaultColors[index];
            return Object.assign(Object.assign({}, dataItem), { color });
        });
    }
    verifyIfHasColorProperty(data) {
        const hasColorProperty = data.every(dataItem => { var _a; return dataItem.hasOwnProperty('color') && ((_a = dataItem.color) === null || _a === void 0 ? void 0 : _a.length) > 0; });
        if (!hasColorProperty) {
            this.defaultColors = this.getDefaultColors(data.length);
        }
    }
    verifyIfIsPoColorPalette(color) {
        if (poColorPalette.includes(color)) {
            return `po-${color}`;
        }
        return color;
    }
    getDefaultColors(length) {
        if (length === 1) {
            return PoDefaultColors[0];
        }
        const colorsLength = PoDefaultColors.length;
        if (length > colorsLength) {
            const quantityDuplicates = length / colorsLength;
            let colors = PoDefaultColors[colorsLength - 1];
            for (let i = 0; i <= quantityDuplicates; i++) {
                colors = colors.concat(PoDefaultColors[colorsLength]);
            }
            return colors;
        }
        return PoDefaultColors[length - 1];
    }
}
PoColorService.ɵprov = i0.ɵɵdefineInjectable({ factory: function PoColorService_Factory() { return new PoColorService(); }, token: PoColorService, providedIn: "root" });
PoColorService.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root'
            },] }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tY29sb3Iuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpL3NyYy9saWIvc2VydmljZXMvcG8tY29sb3IvcG8tY29sb3Iuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTNDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBQ3ZFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQzs7QUFFdkQsTUFBTSxjQUFjLEdBQVMsTUFBTyxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0FBU2hFLE1BQU0sT0FBTyxjQUFjO0lBSDNCO1FBSUUsa0JBQWEsR0FBa0IsRUFBRSxDQUFDO0tBd0RuQztJQXREQzs7OztPQUlHO0lBQ0gsU0FBUyxDQUF3QixJQUFjO1FBQzdDLElBQUksQ0FBQyx3QkFBd0IsQ0FBSSxJQUFJLENBQUMsQ0FBQztRQUV2QyxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDbEMsSUFBSSxRQUFRLENBQUMsS0FBSyxFQUFFO2dCQUNsQixRQUFRLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBRS9ELE9BQU8sUUFBUSxDQUFDO2FBQ2pCO1lBRUQsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN4Qyx1Q0FBWSxRQUFRLEtBQUUsS0FBSyxJQUFHO1FBQ2hDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVPLHdCQUF3QixDQUF3QixJQUFjO1FBQ3BFLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRSxXQUFDLE9BQUEsUUFBUSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFBLE1BQUEsUUFBUSxDQUFDLEtBQUssMENBQUUsTUFBTSxJQUFHLENBQUMsQ0FBQSxFQUFBLENBQUMsQ0FBQztRQUNoSCxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFDckIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3pEO0lBQ0gsQ0FBQztJQUVPLHdCQUF3QixDQUFDLEtBQWE7UUFDNUMsSUFBSSxjQUFjLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ2xDLE9BQU8sTUFBTSxLQUFLLEVBQUUsQ0FBQztTQUN0QjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVPLGdCQUFnQixDQUFDLE1BQWM7UUFDckMsSUFBSSxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ2hCLE9BQU8sZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzNCO1FBRUQsTUFBTSxZQUFZLEdBQUcsZUFBZSxDQUFDLE1BQU0sQ0FBQztRQUU1QyxJQUFJLE1BQU0sR0FBRyxZQUFZLEVBQUU7WUFDekIsTUFBTSxrQkFBa0IsR0FBRyxNQUFNLEdBQUcsWUFBWSxDQUFDO1lBQ2pELElBQUksTUFBTSxHQUFHLGVBQWUsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFFL0MsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLGtCQUFrQixFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUM1QyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQzthQUN2RDtZQUVELE9BQU8sTUFBTSxDQUFDO1NBQ2Y7UUFFRCxPQUFPLGVBQWUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDckMsQ0FBQzs7OztZQTNERixVQUFVLFNBQUM7Z0JBQ1YsVUFBVSxFQUFFLE1BQU07YUFDbkIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBQb0NvbG9yUGFsZXR0ZUVudW0gfSBmcm9tICcuLi8uLi9lbnVtcy9wby1jb2xvci1wYWxldHRlLmVudW0nO1xyXG5pbXBvcnQgeyBQb0RlZmF1bHRDb2xvcnMgfSBmcm9tICcuL3BvLWNvbG9ycy5jb25zdGFudCc7XHJcblxyXG5jb25zdCBwb0NvbG9yUGFsZXR0ZSA9ICg8YW55Pk9iamVjdCkudmFsdWVzKFBvQ29sb3JQYWxldHRlRW51bSk7XHJcblxyXG5pbnRlcmZhY2UgUG9Db2xvckFyZ3Mge1xyXG4gIGNvbG9yPzogc3RyaW5nO1xyXG59XHJcblxyXG5ASW5qZWN0YWJsZSh7XHJcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBQb0NvbG9yU2VydmljZSB7XHJcbiAgZGVmYXVsdENvbG9yczogQXJyYXk8c3RyaW5nPiA9IFtdO1xyXG5cclxuICAvKipcclxuICAgKiBBdmFsaWEgYSBwcm9wcmllZGFkZSBgY29sb3JgIG5hIGxpc3RhIGRlIGl0ZW1zIHBhc3NhZGEuIENhc28gc2ltLCB0cmF0YSBzZSDDqSBkZWNpbWFsIG91IHN0cmluZyBgcG8tY29sb3JgLiBDYXNvIG7Do28gaGFqYSwgcmV0b3JuYSBhIGNvciBkZWZhdWx0LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGRhdGFcclxuICAgKi9cclxuICBnZXRDb2xvcnM8VCBleHRlbmRzIFBvQ29sb3JBcmdzPihkYXRhOiBBcnJheTxUPik6IEFycmF5PFQ+IHtcclxuICAgIHRoaXMudmVyaWZ5SWZIYXNDb2xvclByb3BlcnR5PFQ+KGRhdGEpO1xyXG5cclxuICAgIHJldHVybiBkYXRhLm1hcCgoZGF0YUl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChkYXRhSXRlbS5jb2xvcikge1xyXG4gICAgICAgIGRhdGFJdGVtLmNvbG9yID0gdGhpcy52ZXJpZnlJZklzUG9Db2xvclBhbGV0dGUoZGF0YUl0ZW0uY29sb3IpO1xyXG5cclxuICAgICAgICByZXR1cm4gZGF0YUl0ZW07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5kZWZhdWx0Q29sb3JzW2luZGV4XTtcclxuICAgICAgcmV0dXJuIHsgLi4uZGF0YUl0ZW0sIGNvbG9yIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdmVyaWZ5SWZIYXNDb2xvclByb3BlcnR5PFQgZXh0ZW5kcyBQb0NvbG9yQXJncz4oZGF0YTogQXJyYXk8VD4pOiB2b2lkIHtcclxuICAgIGNvbnN0IGhhc0NvbG9yUHJvcGVydHkgPSBkYXRhLmV2ZXJ5KGRhdGFJdGVtID0+IGRhdGFJdGVtLmhhc093blByb3BlcnR5KCdjb2xvcicpICYmIGRhdGFJdGVtLmNvbG9yPy5sZW5ndGggPiAwKTtcclxuICAgIGlmICghaGFzQ29sb3JQcm9wZXJ0eSkge1xyXG4gICAgICB0aGlzLmRlZmF1bHRDb2xvcnMgPSB0aGlzLmdldERlZmF1bHRDb2xvcnMoZGF0YS5sZW5ndGgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB2ZXJpZnlJZklzUG9Db2xvclBhbGV0dGUoY29sb3I6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAocG9Db2xvclBhbGV0dGUuaW5jbHVkZXMoY29sb3IpKSB7XHJcbiAgICAgIHJldHVybiBgcG8tJHtjb2xvcn1gO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbG9yO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXREZWZhdWx0Q29sb3JzKGxlbmd0aDogbnVtYmVyKTogQXJyYXk8c3RyaW5nPiB7XHJcbiAgICBpZiAobGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIHJldHVybiBQb0RlZmF1bHRDb2xvcnNbMF07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29sb3JzTGVuZ3RoID0gUG9EZWZhdWx0Q29sb3JzLmxlbmd0aDtcclxuXHJcbiAgICBpZiAobGVuZ3RoID4gY29sb3JzTGVuZ3RoKSB7XHJcbiAgICAgIGNvbnN0IHF1YW50aXR5RHVwbGljYXRlcyA9IGxlbmd0aCAvIGNvbG9yc0xlbmd0aDtcclxuICAgICAgbGV0IGNvbG9ycyA9IFBvRGVmYXVsdENvbG9yc1tjb2xvcnNMZW5ndGggLSAxXTtcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHF1YW50aXR5RHVwbGljYXRlczsgaSsrKSB7XHJcbiAgICAgICAgY29sb3JzID0gY29sb3JzLmNvbmNhdChQb0RlZmF1bHRDb2xvcnNbY29sb3JzTGVuZ3RoXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBjb2xvcnM7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFBvRGVmYXVsdENvbG9yc1tsZW5ndGggLSAxXTtcclxuICB9XHJcbn1cclxuIl19