import { ElementRef, Input, Directive } from '@angular/core';
import { convertToBoolean } from '../../utils/util';
import { PO_CONTROL_POSITIONS } from './../../services/po-control-position/po-control-position.constants';
const poPopupDefaultPosition = 'bottom-left';
/**
 * @description
 *
 * O componente `po-popup` é um container pequeno recomendado para ações de navegação:
 * Ele abre sobreposto aos outros componentes.
 *
 * É possível escolher as posições do `po-popup` em relação ao componente alvo, para isto veja a propriedade `p-position`.
 *
 * Também é possível informar um _template_ _header_ para o `po-popup`, que será exibido acima das ações.
 * Para funcionar corretamente é preciso adicionar a propriedade `p-popup-header-template` no elemento que servirá de template, por exemplo:
 *
 * ```
 * <po-popup [p-target]="target">
 *   <div p-popup-header-template>
 *     <div>
 *       Dev PO
 *     </div>
 *     <div>
 *       dev.po@po-ui.com.br
 *     </div>
 *   </div>
 * </po-popup >
 * ```
 */
export class PoPopupBaseComponent {
    constructor() {
        this.arrowDirection = 'top-right';
        this.showPopup = false;
        this._hideArrow = false;
        this._isCornerAlign = false;
        this._position = poPopupDefaultPosition;
    }
    /** Lista de ações que serão exibidas no componente. */
    set actions(value) {
        this._actions = Array.isArray(value) ? value : [];
    }
    get actions() {
        return this._actions;
    }
    /**
     * @optional
     *
     * @description
     *
     * Oculta a seta do componente *popup*.
     *
     * @default `false`
     */
    set hideArrow(value) {
        this._hideArrow = convertToBoolean(value);
    }
    get hideArrow() {
        return this._hideArrow;
    }
    // Define se o `po-popup` será alinhado pelos cantos do elemento target.
    set isCornerAlign(value) {
        this._isCornerAlign = convertToBoolean(value);
    }
    get isCornerAlign() {
        return this._isCornerAlign;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define a posição inicial que o `po-popup` abrirá em relação ao componente alvo. Sugere-se que seja
     * usada a orientação `bottom-left` (abaixo e a esquerda), porém o mesmo é flexível e será rotacionado
     * automaticamente para se adequar a tela, caso necessário.
     *
     * > Caso seja definido um `p-custom-positions` o componente irá abrir na posição definida na propriedade `p-position`
     * e caso não caiba na posição inicial ele irá rotacionar seguindo a ordem de posições definidas no `p-custom-positions`.
     *
     * Posições válidas:
     * - `right`: Posiciona o po-popup no lado direito do componente alvo.
     * - `right-bottom`: Posiciona o po-popup no lado direito inferior do componente alvo.
     * - `right-top`: Posiciona o po-popup no lado direito superior do componente alvo.
     * - `bottom`: Posiciona o po-popup abaixo do componente alvo.
     * - `bottom-left`: Posiciona o po-popup abaixo e à esquerda do componente alvo.
     * - `bottom-right`: Posiciona o po-popup abaixo e à direita do componente alvo.
     * - `left`: Posiciona o po-popup no lado esquerdo do componente alvo.
     * - `left-top`: Posiciona o po-popup no lado esquerdo superior do componente alvo.
     * - `left-bottom`: Posiciona o po-popup no lado esquerdo inferior do componente alvo.
     * - `top`: Posiciona o po-popup acima do componente alvo.
     * - `top-right`: Posiciona o po-popup acima e à direita do componente alvo.
     * - `top-left`: Posiciona o po-popup acima e à esquerda do componente alvo.
     *
     * @default `bottom-left`
     */
    set position(value) {
        this._position = PO_CONTROL_POSITIONS.includes(value) ? value : poPopupDefaultPosition;
    }
    get position() {
        return this._position;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define as posições e a sequência que o `po-popup` poderá rotacionar. A sequência será definida pela ordem passada
     * no *array*. Caso não seja definido, o `po-popup` irá rotacionar em todas as posições válidas.
     *
     * > O componente sempre irá abrir na posição definida no `p-position` e caso não caiba na posição definida o mesmo
     * irá rotacionar seguindo a ordem definida pelo `p-custom-position`.
     *
     * Posições válidas:
     * - `right`: Posiciona o po-popup no lado direito do componente alvo.
     * - `right-bottom`: Posiciona o po-popup no lado direito inferior do componente alvo.
     * - `right-top`: Posiciona o po-popup no lado direito superior do componente alvo.
     * - `bottom`: Posiciona o po-popup abaixo do componente alvo.
     * - `bottom-left`: Posiciona o po-popup abaixo e à esquerda do componente alvo.
     * - `bottom-right`: Posiciona o po-popup abaixo e à direita do componente alvo.
     * - `left`: Posiciona o po-popup no lado esquerdo do componente alvo.
     * - `left-top`: Posiciona o po-popup no lado esquerdo superior do componente alvo.
     * - `left-bottom`: Posiciona o po-popup no lado esquerdo inferior do componente alvo.
     * - `top`: Posiciona o po-popup acima do componente alvo.
     * - `top-right`: Posiciona o po-popup acima e à direita do componente alvo.
     * - `top-left`: Posiciona o po-popup acima e à esquerda do componente alvo.
     */
    set customPositions(value) {
        this._customPositions = Array.isArray(value) ? value : [];
    }
    get customPositions() {
        return this._customPositions;
    }
    /**
     * @description
     *
     * Para utilizar o `po-popup` deve-se colocar uma variável local no componente que disparará o evento
     * de abertura no mesmo e com isso, invocará a função `toggle`, por exemplo:
     *
     * ```
     * <span #icon class="po-icon po-icon-credit-payment" (click)="popup.toggle()">
     *   Credit Actions
     * </span>
     *
     * <po-popup #popup
     *   [p-actions]="actions"
     *   [p-target]="icon">
     * </po-popup>
     * ```
     *
     * Caso o elemento alvo for um componente, será preciso obter o `ElementRef` do mesmo e passá-lo à propriedade, por exemplo:
     *
     * ```
     * // component.html
     *
     * <po-button #poButton
     *   p-label="Open Popover"
     *   (p-click)="popup.toggle()">
     * </po-button>
     *
     * <po-popup #popup
     *   [p-actions]="actions"
     *   [p-target]="poButtonRef">
     * </po-popup>
     *
     * // component.ts
     *
     * @ViewChild('poButton', { read: ElementRef }) poButtonRef: ElementRef;
     * ```
     */
    set target(value) {
        this._target = value instanceof ElementRef ? value.nativeElement : value;
    }
    get target() {
        return this._target;
    }
}
PoPopupBaseComponent.decorators = [
    { type: Directive }
];
PoPopupBaseComponent.propDecorators = {
    actions: [{ type: Input, args: ['p-actions',] }],
    hideArrow: [{ type: Input, args: ['p-hide-arrow',] }],
    isCornerAlign: [{ type: Input, args: ['p-is-corner-align',] }],
    position: [{ type: Input, args: ['p-position',] }],
    customPositions: [{ type: Input, args: ['p-custom-positions',] }],
    target: [{ type: Input, args: ['p-target',] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcG9wdXAtYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy91aS9zcmMvbGliL2NvbXBvbmVudHMvcG8tcG9wdXAvcG8tcG9wdXAtYmFzZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTdELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLG9FQUFvRSxDQUFDO0FBSTFHLE1BQU0sc0JBQXNCLEdBQUcsYUFBYSxDQUFDO0FBRTdDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXVCRztBQUVILE1BQU0sT0FBTyxvQkFBb0I7SUFEakM7UUFFRSxtQkFBYyxHQUFXLFdBQVcsQ0FBQztRQUNyQyxjQUFTLEdBQVksS0FBSyxDQUFDO1FBU25CLGVBQVUsR0FBWSxLQUFLLENBQUM7UUFDNUIsbUJBQWMsR0FBWSxLQUFLLENBQUM7UUFDaEMsY0FBUyxHQUFZLHNCQUFzQixDQUFDO0lBdUp0RCxDQUFDO0lBcEpDLHVEQUF1RDtJQUN2RCxJQUF3QixPQUFPLENBQUMsS0FBMkI7UUFDekQsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNwRCxDQUFDO0lBRUQsSUFBSSxPQUFPO1FBQ1QsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3ZCLENBQUM7SUFFRDs7Ozs7Ozs7T0FRRztJQUNILElBQTJCLFNBQVMsQ0FBQyxLQUFjO1FBQ2pELElBQUksQ0FBQyxVQUFVLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUVELElBQUksU0FBUztRQUNYLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN6QixDQUFDO0lBRUQsd0VBQXdFO0lBQ3hFLElBQWdDLGFBQWEsQ0FBQyxLQUFjO1FBQzFELElBQUksQ0FBQyxjQUFjLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEQsQ0FBQztJQUVELElBQUksYUFBYTtRQUNmLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQztJQUM3QixDQUFDO0lBRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQTJCRztJQUNILElBQXlCLFFBQVEsQ0FBQyxLQUFhO1FBQzdDLElBQUksQ0FBQyxTQUFTLEdBQUcsb0JBQW9CLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLHNCQUFzQixDQUFDO0lBQ3pGLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDVixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDeEIsQ0FBQztJQUVEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0F3Qkc7SUFDSCxJQUFpQyxlQUFlLENBQUMsS0FBb0I7UUFDbkUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQzVELENBQUM7SUFFRCxJQUFJLGVBQWU7UUFDakIsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7SUFDL0IsQ0FBQztJQUVEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0FvQ0c7SUFDSCxJQUF1QixNQUFNLENBQUMsS0FBVTtRQUN0QyxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssWUFBWSxVQUFVLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUMzRSxDQUFDO0lBRUQsSUFBSSxNQUFNO1FBQ1IsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3RCLENBQUM7OztZQXBLRixTQUFTOzs7c0JBa0JQLEtBQUssU0FBQyxXQUFXO3dCQWlCakIsS0FBSyxTQUFDLGNBQWM7NEJBU3BCLEtBQUssU0FBQyxtQkFBbUI7dUJBb0N6QixLQUFLLFNBQUMsWUFBWTs4QkFpQ2xCLEtBQUssU0FBQyxvQkFBb0I7cUJBNkMxQixLQUFLLFNBQUMsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVsZW1lbnRSZWYsIElucHV0LCBEaXJlY3RpdmUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbmltcG9ydCB7IGNvbnZlcnRUb0Jvb2xlYW4gfSBmcm9tICcuLi8uLi91dGlscy91dGlsJztcclxuaW1wb3J0IHsgUE9fQ09OVFJPTF9QT1NJVElPTlMgfSBmcm9tICcuLy4uLy4uL3NlcnZpY2VzL3BvLWNvbnRyb2wtcG9zaXRpb24vcG8tY29udHJvbC1wb3NpdGlvbi5jb25zdGFudHMnO1xyXG5cclxuaW1wb3J0IHsgUG9Qb3B1cEFjdGlvbiB9IGZyb20gJy4vcG8tcG9wdXAtYWN0aW9uLmludGVyZmFjZSc7XHJcblxyXG5jb25zdCBwb1BvcHVwRGVmYXVsdFBvc2l0aW9uID0gJ2JvdHRvbS1sZWZ0JztcclxuXHJcbi8qKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogTyBjb21wb25lbnRlIGBwby1wb3B1cGAgw6kgdW0gY29udGFpbmVyIHBlcXVlbm8gcmVjb21lbmRhZG8gcGFyYSBhw6fDtWVzIGRlIG5hdmVnYcOnw6NvOlxyXG4gKiBFbGUgYWJyZSBzb2JyZXBvc3RvIGFvcyBvdXRyb3MgY29tcG9uZW50ZXMuXHJcbiAqXHJcbiAqIMOJIHBvc3PDrXZlbCBlc2NvbGhlciBhcyBwb3Npw6fDtWVzIGRvIGBwby1wb3B1cGAgZW0gcmVsYcOnw6NvIGFvIGNvbXBvbmVudGUgYWx2bywgcGFyYSBpc3RvIHZlamEgYSBwcm9wcmllZGFkZSBgcC1wb3NpdGlvbmAuXHJcbiAqXHJcbiAqIFRhbWLDqW0gw6kgcG9zc8OtdmVsIGluZm9ybWFyIHVtIF90ZW1wbGF0ZV8gX2hlYWRlcl8gcGFyYSBvIGBwby1wb3B1cGAsIHF1ZSBzZXLDoSBleGliaWRvIGFjaW1hIGRhcyBhw6fDtWVzLlxyXG4gKiBQYXJhIGZ1bmNpb25hciBjb3JyZXRhbWVudGUgw6kgcHJlY2lzbyBhZGljaW9uYXIgYSBwcm9wcmllZGFkZSBgcC1wb3B1cC1oZWFkZXItdGVtcGxhdGVgIG5vIGVsZW1lbnRvIHF1ZSBzZXJ2aXLDoSBkZSB0ZW1wbGF0ZSwgcG9yIGV4ZW1wbG86XHJcbiAqXHJcbiAqIGBgYFxyXG4gKiA8cG8tcG9wdXAgW3AtdGFyZ2V0XT1cInRhcmdldFwiPlxyXG4gKiAgIDxkaXYgcC1wb3B1cC1oZWFkZXItdGVtcGxhdGU+XHJcbiAqICAgICA8ZGl2PlxyXG4gKiAgICAgICBEZXYgUE9cclxuICogICAgIDwvZGl2PlxyXG4gKiAgICAgPGRpdj5cclxuICogICAgICAgZGV2LnBvQHBvLXVpLmNvbS5iclxyXG4gKiAgICAgPC9kaXY+XHJcbiAqICAgPC9kaXY+XHJcbiAqIDwvcG8tcG9wdXAgPlxyXG4gKiBgYGBcclxuICovXHJcbkBEaXJlY3RpdmUoKVxyXG5leHBvcnQgY2xhc3MgUG9Qb3B1cEJhc2VDb21wb25lbnQge1xyXG4gIGFycm93RGlyZWN0aW9uOiBzdHJpbmcgPSAndG9wLXJpZ2h0JztcclxuICBzaG93UG9wdXA6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgcHJvdGVjdGVkIG9sZFRhcmdldDtcclxuICBwcm90ZWN0ZWQgcGFyYW07XHJcbiAgcHJvdGVjdGVkIGNsaWNrb3V0TGlzdGVuZXI6ICgpID0+IHZvaWQ7XHJcbiAgcHJvdGVjdGVkIHJlc2l6ZUxpc3RlbmVyOiAoKSA9PiB2b2lkO1xyXG5cclxuICBwcml2YXRlIF9hY3Rpb25zOiBBcnJheTxQb1BvcHVwQWN0aW9uPjtcclxuICBwcml2YXRlIF9jdXN0b21Qb3NpdGlvbnM/OiBBcnJheTxzdHJpbmc+O1xyXG4gIHByaXZhdGUgX2hpZGVBcnJvdzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHByaXZhdGUgX2lzQ29ybmVyQWxpZ246IGJvb2xlYW4gPSBmYWxzZTtcclxuICBwcml2YXRlIF9wb3NpdGlvbj86IHN0cmluZyA9IHBvUG9wdXBEZWZhdWx0UG9zaXRpb247XHJcbiAgcHJpdmF0ZSBfdGFyZ2V0OiBhbnk7XHJcblxyXG4gIC8qKiBMaXN0YSBkZSBhw6fDtWVzIHF1ZSBzZXLDo28gZXhpYmlkYXMgbm8gY29tcG9uZW50ZS4gKi9cclxuICBASW5wdXQoJ3AtYWN0aW9ucycpIHNldCBhY3Rpb25zKHZhbHVlOiBBcnJheTxQb1BvcHVwQWN0aW9uPikge1xyXG4gICAgdGhpcy5fYWN0aW9ucyA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXTtcclxuICB9XHJcblxyXG4gIGdldCBhY3Rpb25zKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2FjdGlvbnM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAb3B0aW9uYWxcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogT2N1bHRhIGEgc2V0YSBkbyBjb21wb25lbnRlICpwb3B1cCouXHJcbiAgICpcclxuICAgKiBAZGVmYXVsdCBgZmFsc2VgXHJcbiAgICovXHJcbiAgQElucHV0KCdwLWhpZGUtYXJyb3cnKSBzZXQgaGlkZUFycm93KHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLl9oaWRlQXJyb3cgPSBjb252ZXJ0VG9Cb29sZWFuKHZhbHVlKTtcclxuICB9XHJcblxyXG4gIGdldCBoaWRlQXJyb3coKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faGlkZUFycm93O1xyXG4gIH1cclxuXHJcbiAgLy8gRGVmaW5lIHNlIG8gYHBvLXBvcHVwYCBzZXLDoSBhbGluaGFkbyBwZWxvcyBjYW50b3MgZG8gZWxlbWVudG8gdGFyZ2V0LlxyXG4gIEBJbnB1dCgncC1pcy1jb3JuZXItYWxpZ24nKSBzZXQgaXNDb3JuZXJBbGlnbih2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgdGhpcy5faXNDb3JuZXJBbGlnbiA9IGNvbnZlcnRUb0Jvb2xlYW4odmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlzQ29ybmVyQWxpZ24oKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNDb3JuZXJBbGlnbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBvcHRpb25hbFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBEZWZpbmUgYSBwb3Npw6fDo28gaW5pY2lhbCBxdWUgbyBgcG8tcG9wdXBgIGFicmlyw6EgZW0gcmVsYcOnw6NvIGFvIGNvbXBvbmVudGUgYWx2by4gU3VnZXJlLXNlIHF1ZSBzZWphXHJcbiAgICogdXNhZGEgYSBvcmllbnRhw6fDo28gYGJvdHRvbS1sZWZ0YCAoYWJhaXhvIGUgYSBlc3F1ZXJkYSksIHBvcsOpbSBvIG1lc21vIMOpIGZsZXjDrXZlbCBlIHNlcsOhIHJvdGFjaW9uYWRvXHJcbiAgICogYXV0b21hdGljYW1lbnRlIHBhcmEgc2UgYWRlcXVhciBhIHRlbGEsIGNhc28gbmVjZXNzw6FyaW8uXHJcbiAgICpcclxuICAgKiA+IENhc28gc2VqYSBkZWZpbmlkbyB1bSBgcC1jdXN0b20tcG9zaXRpb25zYCBvIGNvbXBvbmVudGUgaXLDoSBhYnJpciBuYSBwb3Npw6fDo28gZGVmaW5pZGEgbmEgcHJvcHJpZWRhZGUgYHAtcG9zaXRpb25gXHJcbiAgICogZSBjYXNvIG7Do28gY2FpYmEgbmEgcG9zacOnw6NvIGluaWNpYWwgZWxlIGlyw6Egcm90YWNpb25hciBzZWd1aW5kbyBhIG9yZGVtIGRlIHBvc2nDp8O1ZXMgZGVmaW5pZGFzIG5vIGBwLWN1c3RvbS1wb3NpdGlvbnNgLlxyXG4gICAqXHJcbiAgICogUG9zacOnw7VlcyB2w6FsaWRhczpcclxuICAgKiAtIGByaWdodGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIG5vIGxhZG8gZGlyZWl0byBkbyBjb21wb25lbnRlIGFsdm8uXHJcbiAgICogLSBgcmlnaHQtYm90dG9tYDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBkaXJlaXRvIGluZmVyaW9yIGRvIGNvbXBvbmVudGUgYWx2by5cclxuICAgKiAtIGByaWdodC10b3BgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBubyBsYWRvIGRpcmVpdG8gc3VwZXJpb3IgZG8gY29tcG9uZW50ZSBhbHZvLlxyXG4gICAqIC0gYGJvdHRvbWA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIGFiYWl4byBkbyBjb21wb25lbnRlIGFsdm8uXHJcbiAgICogLSBgYm90dG9tLWxlZnRgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBhYmFpeG8gZSDDoCBlc3F1ZXJkYSBkbyBjb21wb25lbnRlIGFsdm8uXHJcbiAgICogLSBgYm90dG9tLXJpZ2h0YDogUG9zaWNpb25hIG8gcG8tcG9wdXAgYWJhaXhvIGUgw6AgZGlyZWl0YSBkbyBjb21wb25lbnRlIGFsdm8uXHJcbiAgICogLSBgbGVmdGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIG5vIGxhZG8gZXNxdWVyZG8gZG8gY29tcG9uZW50ZSBhbHZvLlxyXG4gICAqIC0gYGxlZnQtdG9wYDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBlc3F1ZXJkbyBzdXBlcmlvciBkbyBjb21wb25lbnRlIGFsdm8uXHJcbiAgICogLSBgbGVmdC1ib3R0b21gOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBubyBsYWRvIGVzcXVlcmRvIGluZmVyaW9yIGRvIGNvbXBvbmVudGUgYWx2by5cclxuICAgKiAtIGB0b3BgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBhY2ltYSBkbyBjb21wb25lbnRlIGFsdm8uXHJcbiAgICogLSBgdG9wLXJpZ2h0YDogUG9zaWNpb25hIG8gcG8tcG9wdXAgYWNpbWEgZSDDoCBkaXJlaXRhIGRvIGNvbXBvbmVudGUgYWx2by5cclxuICAgKiAtIGB0b3AtbGVmdGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIGFjaW1hIGUgw6AgZXNxdWVyZGEgZG8gY29tcG9uZW50ZSBhbHZvLlxyXG4gICAqXHJcbiAgICogQGRlZmF1bHQgYGJvdHRvbS1sZWZ0YFxyXG4gICAqL1xyXG4gIEBJbnB1dCgncC1wb3NpdGlvbicpIHNldCBwb3NpdGlvbih2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLl9wb3NpdGlvbiA9IFBPX0NPTlRST0xfUE9TSVRJT05TLmluY2x1ZGVzKHZhbHVlKSA/IHZhbHVlIDogcG9Qb3B1cERlZmF1bHRQb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIGdldCBwb3NpdGlvbigpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG9wdGlvbmFsXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIERlZmluZSBhcyBwb3Npw6fDtWVzIGUgYSBzZXF1w6puY2lhIHF1ZSBvIGBwby1wb3B1cGAgcG9kZXLDoSByb3RhY2lvbmFyLiBBIHNlcXXDqm5jaWEgc2Vyw6EgZGVmaW5pZGEgcGVsYSBvcmRlbSBwYXNzYWRhXHJcbiAgICogbm8gKmFycmF5Ki4gQ2FzbyBuw6NvIHNlamEgZGVmaW5pZG8sIG8gYHBvLXBvcHVwYCBpcsOhIHJvdGFjaW9uYXIgZW0gdG9kYXMgYXMgcG9zacOnw7VlcyB2w6FsaWRhcy5cclxuICAgKlxyXG4gICAqID4gTyBjb21wb25lbnRlIHNlbXByZSBpcsOhIGFicmlyIG5hIHBvc2nDp8OjbyBkZWZpbmlkYSBubyBgcC1wb3NpdGlvbmAgZSBjYXNvIG7Do28gY2FpYmEgbmEgcG9zacOnw6NvIGRlZmluaWRhIG8gbWVzbW9cclxuICAgKiBpcsOhIHJvdGFjaW9uYXIgc2VndWluZG8gYSBvcmRlbSBkZWZpbmlkYSBwZWxvIGBwLWN1c3RvbS1wb3NpdGlvbmAuXHJcbiAgICpcclxuICAgKiBQb3Npw6fDtWVzIHbDoWxpZGFzOlxyXG4gICAqIC0gYHJpZ2h0YDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBkaXJlaXRvIGRvIGNvbXBvbmVudGUgYWx2by5cclxuICAgKiAtIGByaWdodC1ib3R0b21gOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBubyBsYWRvIGRpcmVpdG8gaW5mZXJpb3IgZG8gY29tcG9uZW50ZSBhbHZvLlxyXG4gICAqIC0gYHJpZ2h0LXRvcGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIG5vIGxhZG8gZGlyZWl0byBzdXBlcmlvciBkbyBjb21wb25lbnRlIGFsdm8uXHJcbiAgICogLSBgYm90dG9tYDogUG9zaWNpb25hIG8gcG8tcG9wdXAgYWJhaXhvIGRvIGNvbXBvbmVudGUgYWx2by5cclxuICAgKiAtIGBib3R0b20tbGVmdGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIGFiYWl4byBlIMOgIGVzcXVlcmRhIGRvIGNvbXBvbmVudGUgYWx2by5cclxuICAgKiAtIGBib3R0b20tcmlnaHRgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBhYmFpeG8gZSDDoCBkaXJlaXRhIGRvIGNvbXBvbmVudGUgYWx2by5cclxuICAgKiAtIGBsZWZ0YDogUG9zaWNpb25hIG8gcG8tcG9wdXAgbm8gbGFkbyBlc3F1ZXJkbyBkbyBjb21wb25lbnRlIGFsdm8uXHJcbiAgICogLSBgbGVmdC10b3BgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBubyBsYWRvIGVzcXVlcmRvIHN1cGVyaW9yIGRvIGNvbXBvbmVudGUgYWx2by5cclxuICAgKiAtIGBsZWZ0LWJvdHRvbWA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIG5vIGxhZG8gZXNxdWVyZG8gaW5mZXJpb3IgZG8gY29tcG9uZW50ZSBhbHZvLlxyXG4gICAqIC0gYHRvcGA6IFBvc2ljaW9uYSBvIHBvLXBvcHVwIGFjaW1hIGRvIGNvbXBvbmVudGUgYWx2by5cclxuICAgKiAtIGB0b3AtcmlnaHRgOiBQb3NpY2lvbmEgbyBwby1wb3B1cCBhY2ltYSBlIMOgIGRpcmVpdGEgZG8gY29tcG9uZW50ZSBhbHZvLlxyXG4gICAqIC0gYHRvcC1sZWZ0YDogUG9zaWNpb25hIG8gcG8tcG9wdXAgYWNpbWEgZSDDoCBlc3F1ZXJkYSBkbyBjb21wb25lbnRlIGFsdm8uXHJcbiAgICovXHJcbiAgQElucHV0KCdwLWN1c3RvbS1wb3NpdGlvbnMnKSBzZXQgY3VzdG9tUG9zaXRpb25zKHZhbHVlOiBBcnJheTxzdHJpbmc+KSB7XHJcbiAgICB0aGlzLl9jdXN0b21Qb3NpdGlvbnMgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW107XHJcbiAgfVxyXG5cclxuICBnZXQgY3VzdG9tUG9zaXRpb25zKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1c3RvbVBvc2l0aW9ucztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogUGFyYSB1dGlsaXphciBvIGBwby1wb3B1cGAgZGV2ZS1zZSBjb2xvY2FyIHVtYSB2YXJpw6F2ZWwgbG9jYWwgbm8gY29tcG9uZW50ZSBxdWUgZGlzcGFyYXLDoSBvIGV2ZW50b1xyXG4gICAqIGRlIGFiZXJ0dXJhIG5vIG1lc21vIGUgY29tIGlzc28sIGludm9jYXLDoSBhIGZ1bsOnw6NvIGB0b2dnbGVgLCBwb3IgZXhlbXBsbzpcclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqIDxzcGFuICNpY29uIGNsYXNzPVwicG8taWNvbiBwby1pY29uLWNyZWRpdC1wYXltZW50XCIgKGNsaWNrKT1cInBvcHVwLnRvZ2dsZSgpXCI+XHJcbiAgICogICBDcmVkaXQgQWN0aW9uc1xyXG4gICAqIDwvc3Bhbj5cclxuICAgKlxyXG4gICAqIDxwby1wb3B1cCAjcG9wdXBcclxuICAgKiAgIFtwLWFjdGlvbnNdPVwiYWN0aW9uc1wiXHJcbiAgICogICBbcC10YXJnZXRdPVwiaWNvblwiPlxyXG4gICAqIDwvcG8tcG9wdXA+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBDYXNvIG8gZWxlbWVudG8gYWx2byBmb3IgdW0gY29tcG9uZW50ZSwgc2Vyw6EgcHJlY2lzbyBvYnRlciBvIGBFbGVtZW50UmVmYCBkbyBtZXNtbyBlIHBhc3PDoS1sbyDDoCBwcm9wcmllZGFkZSwgcG9yIGV4ZW1wbG86XHJcbiAgICpcclxuICAgKiBgYGBcclxuICAgKiAvLyBjb21wb25lbnQuaHRtbFxyXG4gICAqXHJcbiAgICogPHBvLWJ1dHRvbiAjcG9CdXR0b25cclxuICAgKiAgIHAtbGFiZWw9XCJPcGVuIFBvcG92ZXJcIlxyXG4gICAqICAgKHAtY2xpY2spPVwicG9wdXAudG9nZ2xlKClcIj5cclxuICAgKiA8L3BvLWJ1dHRvbj5cclxuICAgKlxyXG4gICAqIDxwby1wb3B1cCAjcG9wdXBcclxuICAgKiAgIFtwLWFjdGlvbnNdPVwiYWN0aW9uc1wiXHJcbiAgICogICBbcC10YXJnZXRdPVwicG9CdXR0b25SZWZcIj5cclxuICAgKiA8L3BvLXBvcHVwPlxyXG4gICAqXHJcbiAgICogLy8gY29tcG9uZW50LnRzXHJcbiAgICpcclxuICAgKiBAVmlld0NoaWxkKCdwb0J1dHRvbicsIHsgcmVhZDogRWxlbWVudFJlZiB9KSBwb0J1dHRvblJlZjogRWxlbWVudFJlZjtcclxuICAgKiBgYGBcclxuICAgKi9cclxuICBASW5wdXQoJ3AtdGFyZ2V0Jykgc2V0IHRhcmdldCh2YWx1ZTogYW55KSB7XHJcbiAgICB0aGlzLl90YXJnZXQgPSB2YWx1ZSBpbnN0YW5jZW9mIEVsZW1lbnRSZWYgPyB2YWx1ZS5uYXRpdmVFbGVtZW50IDogdmFsdWU7XHJcbiAgfVxyXG5cclxuICBnZXQgdGFyZ2V0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3RhcmdldDtcclxuICB9XHJcbn1cclxuIl19