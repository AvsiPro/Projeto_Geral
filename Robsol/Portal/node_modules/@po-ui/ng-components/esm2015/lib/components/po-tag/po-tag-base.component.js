import { EventEmitter, Input, Output, Directive } from '@angular/core';
import { convertToBoolean } from '../../utils/util';
import { PoColorPaletteEnum } from '../../enums/po-color-palette.enum';
import { PoTagOrientation } from './enums/po-tag-orientation.enum';
import { PoTagType } from './enums/po-tag-type.enum';
const poTagColors = Object.values(PoColorPaletteEnum);
const poTagOrientationDefault = PoTagOrientation.Vertical;
/**
 * @description
 *
 * Este componente permite exibir um valor em forma de um marcador colorido, sendo possível definir uma legenda e realizar customizações
 * na cor, iconografia e tipo.
 *
 * Além disso, é possível definir uma ação que será executada tanto ao *click* quanto através das teclas *enter/space* enquanto navega
 * utilizando a tecla *tab*.
 *
 * Seu uso é recomendado para informações que necessitem de destaque em forma de marcação.
 */
export class PoTagBaseComponent {
    constructor() {
        /**
         * @optional
         *
         * @description
         *
         * Ação que será executada ao clicar sobre o `po-tag` e que receberá como parâmetro um objeto contendo o seu valor e tipo.
         */
        this.click = new EventEmitter();
        this.poTagOrientation = PoTagOrientation;
        this._orientation = poTagOrientationDefault;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define uma cor para a *tag*.
     *
     * Valores válidos:
     *  - <span class="dot po-color-01"></span> `color-01`
     *  - <span class="dot po-color-02"></span> `color-02`
     *  - <span class="dot po-color-03"></span> `color-03`
     *  - <span class="dot po-color-04"></span> `color-04`
     *  - <span class="dot po-color-05"></span> `color-05`
     *  - <span class="dot po-color-06"></span> `color-06`
     *  - <span class="dot po-color-07"></span> `color-07`
     *  - <span class="dot po-color-08"></span> `color-08`
     *  - <span class="dot po-color-09"></span> `color-09`
     *  - <span class="dot po-color-10"></span> `color-10`
     *  - <span class="dot po-color-11"></span> `color-11`
     *  - <span class="dot po-color-12"></span> `color-12`
     *
     * > **Atenção:** A propriedade `p-type` sobrepõe esta definição.
     */
    set color(value) {
        this._color = poTagColors.includes(value) ? value : undefined;
    }
    get color() {
        return this._color;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define ou ativa um ícone que será exibido ao lado do valor da *tag*.
     *
     * Quando `p-type` estiver definida, basta informar um valor igual a `true` para que o ícone seja exibido conforme descrições abaixo:
     * - <span class="po-icon po-icon-ok"></span> - `success`
     * - <span class="po-icon po-icon-warning"></span> - `warning`
     * - <span class="po-icon po-icon-close"></span> - `danger`
     * - <span class="po-icon po-icon-info"></span> - `info`
     *
     * Também É possível usar qualquer um dos ícones da [Biblioteca de ícones](/guides/icons). conforme exemplo abaixo:
     * ```
     * <po-tag p-icon="po-icon-user" p-value="PO Tag"></po-tag>
     * ```
     * como também utilizar outras fontes de ícones, por exemplo a biblioteca *Font Awesome*, da seguinte forma:
     * ```
     * <po-tag p-icon="fa fa-podcast" p-value="PO Tag"></po-button>
     * ```
     * Outra opção seria a customização do ícone através do `TemplateRef`, conforme exemplo abaixo:
     * ```
     * <po-tag [p-icon]="template" p-value="Tag template ionic"></po-button>
     *
     * <ng-template #template>
     *  <ion-icon style="font-size: inherit" name="heart"></ion-icon>
     * </ng-template>
     * ```
     * > Para o ícone enquadrar corretamente, deve-se utilizar `font-size: inherit` caso o ícone utilizado não aplique-o.
     *
     * @default `false`
     */
    set icon(value) {
        if (this.type) {
            this._icon = convertToBoolean(value);
        }
        else {
            this._icon = value;
        }
    }
    get icon() {
        return this._icon;
    }
    /**
     * @optional
     *
     * @description
     *
     * Ativa a inversão de cores configuradas no componente, possibilitando uma visualização de status ativo e inativo.
     *
     * > A cor do texto, do ícone e da borda ficam com a cor utilizada na propriedade `p-color` ou a cor correspondente ao `p-type`,
     * e a cor do fundo fica branca.
     *
     * @default `false`
     */
    set inverse(value) {
        this._inverse = convertToBoolean(value);
    }
    get inverse() {
        return this._inverse;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define o *layout* de exibição.
     *
     * @default `vertical`
     */
    set orientation(value) {
        this._orientation = Object.values(PoTagOrientation).includes(value) ? value : poTagOrientationDefault;
    }
    get orientation() {
        return this._orientation;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define o tipo da *tag*.
     *
     * Valores válidos:
     *  - `success`: cor verde utilizada para simbolizar sucesso ou êxito.
     *  - `warning`: cor amarela que representa aviso ou advertência.
     *  - `danger`: cor vermelha para erro ou aviso crítico.
     *  - `info`: cor cinza escuro que caracteriza conteúdo informativo.
     *
     * > Quando esta propriedade for definida, irá sobrepor a definição de `p-color` e `p-icon` somente será exibido caso seja `true`.
     *
     * @default `info`
     */
    set type(value) {
        this._type = Object.values(PoTagType).includes(value) ? value : undefined;
    }
    get type() {
        return this._type;
    }
}
PoTagBaseComponent.decorators = [
    { type: Directive }
];
PoTagBaseComponent.propDecorators = {
    label: [{ type: Input, args: ['p-label',] }],
    value: [{ type: Input, args: ['p-value',] }],
    click: [{ type: Output, args: ['p-click',] }],
    color: [{ type: Input, args: ['p-color',] }],
    icon: [{ type: Input, args: ['p-icon',] }],
    inverse: [{ type: Input, args: ['p-inverse',] }],
    orientation: [{ type: Input, args: ['p-orientation',] }],
    type: [{ type: Input, args: ['p-type',] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tdGFnLWJhc2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdWkvc3JjL2xpYi9jb21wb25lbnRzL3BvLXRhZy9wby10YWctYmFzZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBZSxNQUFNLGVBQWUsQ0FBQztBQUVwRixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNwRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUd2RSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUNuRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFFckQsTUFBTSxXQUFXLEdBQVMsTUFBTyxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0FBQzdELE1BQU0sdUJBQXVCLEdBQUcsZ0JBQWdCLENBQUMsUUFBUSxDQUFDO0FBRTFEOzs7Ozs7Ozs7O0dBVUc7QUFFSCxNQUFNLE9BQU8sa0JBQWtCO0lBRC9CO1FBY0U7Ozs7OztXQU1HO1FBQ2dCLFVBQUssR0FBc0IsSUFBSSxZQUFZLEVBQWEsQ0FBQztRQUU1RCxxQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQztRQUs1QyxpQkFBWSxHQUFzQix1QkFBdUIsQ0FBQztJQTRJcEUsQ0FBQztJQXpJQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQXNCRztJQUNILElBQXNCLEtBQUssQ0FBQyxLQUFhO1FBQ3ZDLElBQUksQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7SUFDaEUsQ0FBQztJQUVELElBQUksS0FBSztRQUNQLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUNyQixDQUFDO0lBRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09BZ0NHO0lBQ0gsSUFBcUIsSUFBSSxDQUFDLEtBQTJDO1FBQ25FLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtZQUNiLElBQUksQ0FBQyxLQUFLLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDdEM7YUFBTTtZQUNMLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1NBQ3BCO0lBQ0gsQ0FBQztJQUVELElBQUksSUFBSTtRQUNOLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNwQixDQUFDO0lBRUQ7Ozs7Ozs7Ozs7O09BV0c7SUFDSCxJQUF3QixPQUFPLENBQUMsS0FBYztRQUM1QyxJQUFJLENBQUMsUUFBUSxHQUFHLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDVCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQztJQUVEOzs7Ozs7OztPQVFHO0lBQ0gsSUFBNEIsV0FBVyxDQUFDLEtBQXVCO1FBQzdELElBQUksQ0FBQyxZQUFZLEdBQVMsTUFBTyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQztJQUMvRyxDQUFDO0lBRUQsSUFBSSxXQUFXO1FBQ2IsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQzNCLENBQUM7SUFFRDs7Ozs7Ozs7Ozs7Ozs7OztPQWdCRztJQUNILElBQXFCLElBQUksQ0FBQyxLQUFnQjtRQUN4QyxJQUFJLENBQUMsS0FBSyxHQUFTLE1BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztJQUNuRixDQUFDO0lBRUQsSUFBSSxJQUFJO1FBQ04sT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3BCLENBQUM7OztZQXZLRixTQUFTOzs7b0JBU1AsS0FBSyxTQUFDLFNBQVM7b0JBR2YsS0FBSyxTQUFDLFNBQVM7b0JBU2YsTUFBTSxTQUFDLFNBQVM7b0JBaUNoQixLQUFLLFNBQUMsU0FBUzttQkF5Q2YsS0FBSyxTQUFDLFFBQVE7c0JBd0JkLEtBQUssU0FBQyxXQUFXOzBCQWlCakIsS0FBSyxTQUFDLGVBQWU7bUJBeUJyQixLQUFLLFNBQUMsUUFBUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dCwgRGlyZWN0aXZlLCBUZW1wbGF0ZVJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgY29udmVydFRvQm9vbGVhbiB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWwnO1xyXG5pbXBvcnQgeyBQb0NvbG9yUGFsZXR0ZUVudW0gfSBmcm9tICcuLi8uLi9lbnVtcy9wby1jb2xvci1wYWxldHRlLmVudW0nO1xyXG5cclxuaW1wb3J0IHsgUG9UYWdJdGVtIH0gZnJvbSAnLi9pbnRlcmZhY2VzL3BvLXRhZy1pdGVtLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IFBvVGFnT3JpZW50YXRpb24gfSBmcm9tICcuL2VudW1zL3BvLXRhZy1vcmllbnRhdGlvbi5lbnVtJztcclxuaW1wb3J0IHsgUG9UYWdUeXBlIH0gZnJvbSAnLi9lbnVtcy9wby10YWctdHlwZS5lbnVtJztcclxuXHJcbmNvbnN0IHBvVGFnQ29sb3JzID0gKDxhbnk+T2JqZWN0KS52YWx1ZXMoUG9Db2xvclBhbGV0dGVFbnVtKTtcclxuY29uc3QgcG9UYWdPcmllbnRhdGlvbkRlZmF1bHQgPSBQb1RhZ09yaWVudGF0aW9uLlZlcnRpY2FsO1xyXG5cclxuLyoqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBFc3RlIGNvbXBvbmVudGUgcGVybWl0ZSBleGliaXIgdW0gdmFsb3IgZW0gZm9ybWEgZGUgdW0gbWFyY2Fkb3IgY29sb3JpZG8sIHNlbmRvIHBvc3PDrXZlbCBkZWZpbmlyIHVtYSBsZWdlbmRhIGUgcmVhbGl6YXIgY3VzdG9taXphw6fDtWVzXHJcbiAqIG5hIGNvciwgaWNvbm9ncmFmaWEgZSB0aXBvLlxyXG4gKlxyXG4gKiBBbMOpbSBkaXNzbywgw6kgcG9zc8OtdmVsIGRlZmluaXIgdW1hIGHDp8OjbyBxdWUgc2Vyw6EgZXhlY3V0YWRhIHRhbnRvIGFvICpjbGljayogcXVhbnRvIGF0cmF2w6lzIGRhcyB0ZWNsYXMgKmVudGVyL3NwYWNlKiBlbnF1YW50byBuYXZlZ2FcclxuICogdXRpbGl6YW5kbyBhIHRlY2xhICp0YWIqLlxyXG4gKlxyXG4gKiBTZXUgdXNvIMOpIHJlY29tZW5kYWRvIHBhcmEgaW5mb3JtYcOnw7VlcyBxdWUgbmVjZXNzaXRlbSBkZSBkZXN0YXF1ZSBlbSBmb3JtYSBkZSBtYXJjYcOnw6NvLlxyXG4gKi9cclxuQERpcmVjdGl2ZSgpXHJcbmV4cG9ydCBjbGFzcyBQb1RhZ0Jhc2VDb21wb25lbnQge1xyXG4gIC8qKlxyXG4gICAqIEBvcHRpb25hbFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBEZWZpbmUgdW1hIGxlZ2VuZGEgcXVlIHNlcsOhIGV4aWJpZGEgYWNpbWEgb3UgYW8gbGFkbyBkYSAqdGFnKiwgZGUgYWNvcmRvIGNvbSBhIGBwLW9yaWVudGF0aW9uYC5cclxuICAgKi9cclxuICBASW5wdXQoJ3AtbGFiZWwnKSBsYWJlbD86IHN0cmluZztcclxuXHJcbiAgLyoqIFRleHRvIGRhIHRhZy4gKi9cclxuICBASW5wdXQoJ3AtdmFsdWUnKSB2YWx1ZTogc3RyaW5nO1xyXG5cclxuICAvKipcclxuICAgKiBAb3B0aW9uYWxcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogQcOnw6NvIHF1ZSBzZXLDoSBleGVjdXRhZGEgYW8gY2xpY2FyIHNvYnJlIG8gYHBvLXRhZ2AgZSBxdWUgcmVjZWJlcsOhIGNvbW8gcGFyw6JtZXRybyB1bSBvYmpldG8gY29udGVuZG8gbyBzZXUgdmFsb3IgZSB0aXBvLlxyXG4gICAqL1xyXG4gIEBPdXRwdXQoJ3AtY2xpY2snKSBjbGljazogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPFBvVGFnSXRlbT4oKTtcclxuXHJcbiAgcHVibGljIHJlYWRvbmx5IHBvVGFnT3JpZW50YXRpb24gPSBQb1RhZ09yaWVudGF0aW9uO1xyXG5cclxuICBwcml2YXRlIF9jb2xvcj86IHN0cmluZztcclxuICBwcml2YXRlIF9pY29uPzogYm9vbGVhbiB8IHN0cmluZyB8IFRlbXBsYXRlUmVmPHZvaWQ+O1xyXG4gIHByaXZhdGUgX2ludmVyc2U/OiBib29sZWFuO1xyXG4gIHByaXZhdGUgX29yaWVudGF0aW9uPzogUG9UYWdPcmllbnRhdGlvbiA9IHBvVGFnT3JpZW50YXRpb25EZWZhdWx0O1xyXG4gIHByaXZhdGUgX3R5cGU/OiBQb1RhZ1R5cGU7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBvcHRpb25hbFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBEZWZpbmUgdW1hIGNvciBwYXJhIGEgKnRhZyouXHJcbiAgICpcclxuICAgKiBWYWxvcmVzIHbDoWxpZG9zOlxyXG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTAxXCI+PC9zcGFuPiBgY29sb3ItMDFgXHJcbiAgICogIC0gPHNwYW4gY2xhc3M9XCJkb3QgcG8tY29sb3ItMDJcIj48L3NwYW4+IGBjb2xvci0wMmBcclxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0wM1wiPjwvc3Bhbj4gYGNvbG9yLTAzYFxyXG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTA0XCI+PC9zcGFuPiBgY29sb3ItMDRgXHJcbiAgICogIC0gPHNwYW4gY2xhc3M9XCJkb3QgcG8tY29sb3ItMDVcIj48L3NwYW4+IGBjb2xvci0wNWBcclxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0wNlwiPjwvc3Bhbj4gYGNvbG9yLTA2YFxyXG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTA3XCI+PC9zcGFuPiBgY29sb3ItMDdgXHJcbiAgICogIC0gPHNwYW4gY2xhc3M9XCJkb3QgcG8tY29sb3ItMDhcIj48L3NwYW4+IGBjb2xvci0wOGBcclxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0wOVwiPjwvc3Bhbj4gYGNvbG9yLTA5YFxyXG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTEwXCI+PC9zcGFuPiBgY29sb3ItMTBgXHJcbiAgICogIC0gPHNwYW4gY2xhc3M9XCJkb3QgcG8tY29sb3ItMTFcIj48L3NwYW4+IGBjb2xvci0xMWBcclxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0xMlwiPjwvc3Bhbj4gYGNvbG9yLTEyYFxyXG4gICAqXHJcbiAgICogPiAqKkF0ZW7Dp8OjbzoqKiBBIHByb3ByaWVkYWRlIGBwLXR5cGVgIHNvYnJlcMO1ZSBlc3RhIGRlZmluacOnw6NvLlxyXG4gICAqL1xyXG4gIEBJbnB1dCgncC1jb2xvcicpIHNldCBjb2xvcih2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLl9jb2xvciA9IHBvVGFnQ29sb3JzLmluY2x1ZGVzKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNvbG9yKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5fY29sb3I7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAb3B0aW9uYWxcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogRGVmaW5lIG91IGF0aXZhIHVtIMOtY29uZSBxdWUgc2Vyw6EgZXhpYmlkbyBhbyBsYWRvIGRvIHZhbG9yIGRhICp0YWcqLlxyXG4gICAqXHJcbiAgICogUXVhbmRvIGBwLXR5cGVgIGVzdGl2ZXIgZGVmaW5pZGEsIGJhc3RhIGluZm9ybWFyIHVtIHZhbG9yIGlndWFsIGEgYHRydWVgIHBhcmEgcXVlIG8gw61jb25lIHNlamEgZXhpYmlkbyBjb25mb3JtZSBkZXNjcmnDp8O1ZXMgYWJhaXhvOlxyXG4gICAqIC0gPHNwYW4gY2xhc3M9XCJwby1pY29uIHBvLWljb24tb2tcIj48L3NwYW4+IC0gYHN1Y2Nlc3NgXHJcbiAgICogLSA8c3BhbiBjbGFzcz1cInBvLWljb24gcG8taWNvbi13YXJuaW5nXCI+PC9zcGFuPiAtIGB3YXJuaW5nYFxyXG4gICAqIC0gPHNwYW4gY2xhc3M9XCJwby1pY29uIHBvLWljb24tY2xvc2VcIj48L3NwYW4+IC0gYGRhbmdlcmBcclxuICAgKiAtIDxzcGFuIGNsYXNzPVwicG8taWNvbiBwby1pY29uLWluZm9cIj48L3NwYW4+IC0gYGluZm9gXHJcbiAgICpcclxuICAgKiBUYW1iw6ltIMOJIHBvc3PDrXZlbCB1c2FyIHF1YWxxdWVyIHVtIGRvcyDDrWNvbmVzIGRhIFtCaWJsaW90ZWNhIGRlIMOtY29uZXNdKC9ndWlkZXMvaWNvbnMpLiBjb25mb3JtZSBleGVtcGxvIGFiYWl4bzpcclxuICAgKiBgYGBcclxuICAgKiA8cG8tdGFnIHAtaWNvbj1cInBvLWljb24tdXNlclwiIHAtdmFsdWU9XCJQTyBUYWdcIj48L3BvLXRhZz5cclxuICAgKiBgYGBcclxuICAgKiBjb21vIHRhbWLDqW0gdXRpbGl6YXIgb3V0cmFzIGZvbnRlcyBkZSDDrWNvbmVzLCBwb3IgZXhlbXBsbyBhIGJpYmxpb3RlY2EgKkZvbnQgQXdlc29tZSosIGRhIHNlZ3VpbnRlIGZvcm1hOlxyXG4gICAqIGBgYFxyXG4gICAqIDxwby10YWcgcC1pY29uPVwiZmEgZmEtcG9kY2FzdFwiIHAtdmFsdWU9XCJQTyBUYWdcIj48L3BvLWJ1dHRvbj5cclxuICAgKiBgYGBcclxuICAgKiBPdXRyYSBvcMOnw6NvIHNlcmlhIGEgY3VzdG9taXphw6fDo28gZG8gw61jb25lIGF0cmF2w6lzIGRvIGBUZW1wbGF0ZVJlZmAsIGNvbmZvcm1lIGV4ZW1wbG8gYWJhaXhvOlxyXG4gICAqIGBgYFxyXG4gICAqIDxwby10YWcgW3AtaWNvbl09XCJ0ZW1wbGF0ZVwiIHAtdmFsdWU9XCJUYWcgdGVtcGxhdGUgaW9uaWNcIj48L3BvLWJ1dHRvbj5cclxuICAgKlxyXG4gICAqIDxuZy10ZW1wbGF0ZSAjdGVtcGxhdGU+XHJcbiAgICogIDxpb24taWNvbiBzdHlsZT1cImZvbnQtc2l6ZTogaW5oZXJpdFwiIG5hbWU9XCJoZWFydFwiPjwvaW9uLWljb24+XHJcbiAgICogPC9uZy10ZW1wbGF0ZT5cclxuICAgKiBgYGBcclxuICAgKiA+IFBhcmEgbyDDrWNvbmUgZW5xdWFkcmFyIGNvcnJldGFtZW50ZSwgZGV2ZS1zZSB1dGlsaXphciBgZm9udC1zaXplOiBpbmhlcml0YCBjYXNvIG8gw61jb25lIHV0aWxpemFkbyBuw6NvIGFwbGlxdWUtby5cclxuICAgKlxyXG4gICAqIEBkZWZhdWx0IGBmYWxzZWBcclxuICAgKi9cclxuICBASW5wdXQoJ3AtaWNvbicpIHNldCBpY29uKHZhbHVlOiBib29sZWFuIHwgc3RyaW5nIHwgVGVtcGxhdGVSZWY8dm9pZD4pIHtcclxuICAgIGlmICh0aGlzLnR5cGUpIHtcclxuICAgICAgdGhpcy5faWNvbiA9IGNvbnZlcnRUb0Jvb2xlYW4odmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faWNvbiA9IHZhbHVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IGljb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faWNvbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBvcHRpb25hbFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBBdGl2YSBhIGludmVyc8OjbyBkZSBjb3JlcyBjb25maWd1cmFkYXMgbm8gY29tcG9uZW50ZSwgcG9zc2liaWxpdGFuZG8gdW1hIHZpc3VhbGl6YcOnw6NvIGRlIHN0YXR1cyBhdGl2byBlIGluYXRpdm8uXHJcbiAgICpcclxuICAgKiA+IEEgY29yIGRvIHRleHRvLCBkbyDDrWNvbmUgZSBkYSBib3JkYSBmaWNhbSBjb20gYSBjb3IgdXRpbGl6YWRhIG5hIHByb3ByaWVkYWRlIGBwLWNvbG9yYCBvdSBhIGNvciBjb3JyZXNwb25kZW50ZSBhbyBgcC10eXBlYCxcclxuICAgKiBlIGEgY29yIGRvIGZ1bmRvIGZpY2EgYnJhbmNhLlxyXG4gICAqXHJcbiAgICogQGRlZmF1bHQgYGZhbHNlYFxyXG4gICAqL1xyXG4gIEBJbnB1dCgncC1pbnZlcnNlJykgc2V0IGludmVyc2UodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuX2ludmVyc2UgPSBjb252ZXJ0VG9Cb29sZWFuKHZhbHVlKTtcclxuICB9XHJcblxyXG4gIGdldCBpbnZlcnNlKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2ludmVyc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAb3B0aW9uYWxcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogRGVmaW5lIG8gKmxheW91dCogZGUgZXhpYmnDp8Ojby5cclxuICAgKlxyXG4gICAqIEBkZWZhdWx0IGB2ZXJ0aWNhbGBcclxuICAgKi9cclxuICBASW5wdXQoJ3Atb3JpZW50YXRpb24nKSBzZXQgb3JpZW50YXRpb24odmFsdWU6IFBvVGFnT3JpZW50YXRpb24pIHtcclxuICAgIHRoaXMuX29yaWVudGF0aW9uID0gKDxhbnk+T2JqZWN0KS52YWx1ZXMoUG9UYWdPcmllbnRhdGlvbikuaW5jbHVkZXModmFsdWUpID8gdmFsdWUgOiBwb1RhZ09yaWVudGF0aW9uRGVmYXVsdDtcclxuICB9XHJcblxyXG4gIGdldCBvcmllbnRhdGlvbigpOiBQb1RhZ09yaWVudGF0aW9uIHtcclxuICAgIHJldHVybiB0aGlzLl9vcmllbnRhdGlvbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBvcHRpb25hbFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBEZWZpbmUgbyB0aXBvIGRhICp0YWcqLlxyXG4gICAqXHJcbiAgICogVmFsb3JlcyB2w6FsaWRvczpcclxuICAgKiAgLSBgc3VjY2Vzc2A6IGNvciB2ZXJkZSB1dGlsaXphZGEgcGFyYSBzaW1ib2xpemFyIHN1Y2Vzc28gb3Ugw6p4aXRvLlxyXG4gICAqICAtIGB3YXJuaW5nYDogY29yIGFtYXJlbGEgcXVlIHJlcHJlc2VudGEgYXZpc28gb3UgYWR2ZXJ0w6puY2lhLlxyXG4gICAqICAtIGBkYW5nZXJgOiBjb3IgdmVybWVsaGEgcGFyYSBlcnJvIG91IGF2aXNvIGNyw610aWNvLlxyXG4gICAqICAtIGBpbmZvYDogY29yIGNpbnphIGVzY3VybyBxdWUgY2FyYWN0ZXJpemEgY29udGXDumRvIGluZm9ybWF0aXZvLlxyXG4gICAqXHJcbiAgICogPiBRdWFuZG8gZXN0YSBwcm9wcmllZGFkZSBmb3IgZGVmaW5pZGEsIGlyw6Egc29icmVwb3IgYSBkZWZpbmnDp8OjbyBkZSBgcC1jb2xvcmAgZSBgcC1pY29uYCBzb21lbnRlIHNlcsOhIGV4aWJpZG8gY2FzbyBzZWphIGB0cnVlYC5cclxuICAgKlxyXG4gICAqIEBkZWZhdWx0IGBpbmZvYFxyXG4gICAqL1xyXG4gIEBJbnB1dCgncC10eXBlJykgc2V0IHR5cGUodmFsdWU6IFBvVGFnVHlwZSkge1xyXG4gICAgdGhpcy5fdHlwZSA9ICg8YW55Pk9iamVjdCkudmFsdWVzKFBvVGFnVHlwZSkuaW5jbHVkZXModmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBnZXQgdHlwZSgpOiBQb1RhZ1R5cGUge1xyXG4gICAgcmV0dXJuIHRoaXMuX3R5cGU7XHJcbiAgfVxyXG59XHJcbiJdfQ==