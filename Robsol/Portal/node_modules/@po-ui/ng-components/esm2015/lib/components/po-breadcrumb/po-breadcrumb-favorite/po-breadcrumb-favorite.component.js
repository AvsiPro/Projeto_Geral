import { Component, Input } from '@angular/core';
import { PoBreadcrumbFavoriteService } from './po-breadcrumb-favorite.service';
import { PoLanguageService } from '../../../services/po-language/po-language.service';
export const PoBreadcrumbLiterals = {
    en: {
        favorite: 'Favorite',
        unfavorite: 'Unfavorite'
    },
    es: {
        favorite: 'Favor',
        unfavorite: 'Desfavorecer'
    },
    pt: {
        favorite: 'Favoritar',
        unfavorite: 'Desfavoritar'
    },
    ru: {
        favorite: 'Любимый',
        unfavorite: 'Немилость'
    }
};
/**
 * @docsPrivate
 *
 * @description
 *
 * Componente que renderiza o serviço de favoritar do po-breadcrumb.
 */
export class PoBreadcrumbFavoriteComponent {
    constructor(service, languageService) {
        this.service = service;
        this.languageService = languageService;
        this.favorite = false;
        const language = languageService.getShortLanguage();
        this.literals = Object.assign({}, PoBreadcrumbLiterals[language]);
    }
    ngOnInit() {
        this.service.configService(this.favoriteService, this.paramsService, this.itemActive);
        this.getStatusFavorite();
    }
    ngOnDestroy() {
        if (this.getSubscription) {
            this.getSubscription.unsubscribe();
        }
        if (this.setSubscription) {
            this.setSubscription.unsubscribe();
        }
    }
    toggleFavoriteAction() {
        this.favorite ? this.setStatusFavorite(false) : this.setStatusFavorite(true);
    }
    getStatusFavorite() {
        this.getSubscription = this.service.getFavorite().subscribe(result => (this.favorite = result.isFavorite));
    }
    setStatusFavorite(status) {
        this.setSubscription = this.service
            .sendStatusFavorite(status)
            .subscribe(result => (this.favorite = result.isFavorite));
    }
}
PoBreadcrumbFavoriteComponent.decorators = [
    { type: Component, args: [{
                selector: 'po-breadcrumb-favorite',
                template: "<div class=\"po-breadcrumb-favorite po-clickable\" (click)=\"toggleFavoriteAction()\">\r\n  <span\r\n    class=\"po-icon po-icon-star po-breadcrumb-favorite-star po-clickable\"\r\n    [class.po-breadcrumb-favorite-star-active]=\"favorite\"\r\n  >\r\n  </span>\r\n\r\n  <span class=\"po-hidden-sm po-breadcrumb-favorite-label\" *ngIf=\"favorite\">{{ literals?.unfavorite }}</span>\r\n  <span class=\"po-hidden-sm po-breadcrumb-favorite-label\" *ngIf=\"!favorite\">{{ literals?.favorite }}</span>\r\n</div>\r\n",
                providers: [PoBreadcrumbFavoriteService]
            },] }
];
PoBreadcrumbFavoriteComponent.ctorParameters = () => [
    { type: PoBreadcrumbFavoriteService },
    { type: PoLanguageService }
];
PoBreadcrumbFavoriteComponent.propDecorators = {
    favoriteService: [{ type: Input, args: ['p-favorite-service',] }],
    itemActive: [{ type: Input, args: ['p-item-active',] }],
    paramsService: [{ type: Input, args: ['p-params-service',] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tYnJlYWRjcnVtYi1mYXZvcml0ZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy91aS9zcmMvbGliL2NvbXBvbmVudHMvcG8tYnJlYWRjcnVtYi9wby1icmVhZGNydW1iLWZhdm9yaXRlL3BvLWJyZWFkY3J1bWItZmF2b3JpdGUuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFxQixNQUFNLGVBQWUsQ0FBQztBQUtwRSxPQUFPLEVBQUUsMkJBQTJCLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQztBQUMvRSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxtREFBbUQsQ0FBQztBQUV0RixNQUFNLENBQUMsTUFBTSxvQkFBb0IsR0FBVztJQUMxQyxFQUFFLEVBQU87UUFDUCxRQUFRLEVBQUUsVUFBVTtRQUNwQixVQUFVLEVBQUUsWUFBWTtLQUN6QjtJQUNELEVBQUUsRUFBTztRQUNQLFFBQVEsRUFBRSxPQUFPO1FBQ2pCLFVBQVUsRUFBRSxjQUFjO0tBQzNCO0lBQ0QsRUFBRSxFQUFPO1FBQ1AsUUFBUSxFQUFFLFdBQVc7UUFDckIsVUFBVSxFQUFFLGNBQWM7S0FDM0I7SUFDRCxFQUFFLEVBQU87UUFDUCxRQUFRLEVBQUUsU0FBUztRQUNuQixVQUFVLEVBQUUsV0FBVztLQUN4QjtDQUNGLENBQUM7QUFFRjs7Ozs7O0dBTUc7QUFPSCxNQUFNLE9BQU8sNkJBQTZCO0lBZ0J4QyxZQUFvQixPQUFvQyxFQUFVLGVBQWtDO1FBQWhGLFlBQU8sR0FBUCxPQUFPLENBQTZCO1FBQVUsb0JBQWUsR0FBZixlQUFlLENBQW1CO1FBTnBHLGFBQVEsR0FBWSxLQUFLLENBQUM7UUFPeEIsTUFBTSxRQUFRLEdBQUcsZUFBZSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFFcEQsSUFBSSxDQUFDLFFBQVEscUJBQ1Isb0JBQW9CLENBQUMsUUFBUSxDQUFDLENBQ2xDLENBQUM7SUFDSixDQUFDO0lBRUQsUUFBUTtRQUNOLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdEYsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUVELFdBQVc7UUFDVCxJQUFJLElBQUksQ0FBQyxlQUFlLEVBQUU7WUFDeEIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLEVBQUUsQ0FBQztTQUNwQztRQUVELElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtZQUN4QixJQUFJLENBQUMsZUFBZSxDQUFDLFdBQVcsRUFBRSxDQUFDO1NBQ3BDO0lBQ0gsQ0FBQztJQUVELG9CQUFvQjtRQUNsQixJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMvRSxDQUFDO0lBRU8saUJBQWlCO1FBQ3ZCLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDN0csQ0FBQztJQUVPLGlCQUFpQixDQUFDLE1BQU07UUFDOUIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsT0FBTzthQUNoQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUM7YUFDMUIsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBQzlELENBQUM7OztZQXhERixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLHdCQUF3QjtnQkFDbEMsd2dCQUFzRDtnQkFDdEQsU0FBUyxFQUFFLENBQUMsMkJBQTJCLENBQUM7YUFDekM7OztZQWxDUSwyQkFBMkI7WUFDM0IsaUJBQWlCOzs7OEJBb0N2QixLQUFLLFNBQUMsb0JBQW9CO3lCQUcxQixLQUFLLFNBQUMsZUFBZTs0QkFHckIsS0FBSyxTQUFDLGtCQUFrQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uRGVzdHJveSwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcclxuXHJcbmltcG9ydCB7IFBvQnJlYWRjcnVtYkl0ZW0gfSBmcm9tICcuLy4uL3BvLWJyZWFkY3J1bWItaXRlbS5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBQb0JyZWFkY3J1bWJGYXZvcml0ZVNlcnZpY2UgfSBmcm9tICcuL3BvLWJyZWFkY3J1bWItZmF2b3JpdGUuc2VydmljZSc7XHJcbmltcG9ydCB7IFBvTGFuZ3VhZ2VTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvcG8tbGFuZ3VhZ2UvcG8tbGFuZ3VhZ2Uuc2VydmljZSc7XHJcblxyXG5leHBvcnQgY29uc3QgUG9CcmVhZGNydW1iTGl0ZXJhbHM6IE9iamVjdCA9IHtcclxuICBlbjogPGFueT57XHJcbiAgICBmYXZvcml0ZTogJ0Zhdm9yaXRlJyxcclxuICAgIHVuZmF2b3JpdGU6ICdVbmZhdm9yaXRlJ1xyXG4gIH0sXHJcbiAgZXM6IDxhbnk+e1xyXG4gICAgZmF2b3JpdGU6ICdGYXZvcicsXHJcbiAgICB1bmZhdm9yaXRlOiAnRGVzZmF2b3JlY2VyJ1xyXG4gIH0sXHJcbiAgcHQ6IDxhbnk+e1xyXG4gICAgZmF2b3JpdGU6ICdGYXZvcml0YXInLFxyXG4gICAgdW5mYXZvcml0ZTogJ0Rlc2Zhdm9yaXRhcidcclxuICB9LFxyXG4gIHJ1OiA8YW55PntcclxuICAgIGZhdm9yaXRlOiAn0JvRjtCx0LjQvNGL0LknLFxyXG4gICAgdW5mYXZvcml0ZTogJ9Cd0LXQvNC40LvQvtGB0YLRjCdcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogQGRvY3NQcml2YXRlXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBDb21wb25lbnRlIHF1ZSByZW5kZXJpemEgbyBzZXJ2acOnbyBkZSBmYXZvcml0YXIgZG8gcG8tYnJlYWRjcnVtYi5cclxuICovXHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3BvLWJyZWFkY3J1bWItZmF2b3JpdGUnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9wby1icmVhZGNydW1iLWZhdm9yaXRlLmNvbXBvbmVudC5odG1sJyxcclxuICBwcm92aWRlcnM6IFtQb0JyZWFkY3J1bWJGYXZvcml0ZVNlcnZpY2VdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBQb0JyZWFkY3J1bWJGYXZvcml0ZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcclxuICAvLyBVUkwgZG8gc2VydmnDp28uXHJcbiAgQElucHV0KCdwLWZhdm9yaXRlLXNlcnZpY2UnKSBmYXZvcml0ZVNlcnZpY2U6IHN0cmluZztcclxuXHJcbiAgLy8gSXRlbSBkbyBicmVhZGNydW1iIGF0aXZvLlxyXG4gIEBJbnB1dCgncC1pdGVtLWFjdGl2ZScpIGl0ZW1BY3RpdmU6IFBvQnJlYWRjcnVtYkl0ZW07XHJcblxyXG4gIC8vIFBhcsOibWV0cm8gcXVlIHNlcsOhIGVudmlhZG8ganVudG8gY29tIG8gc2VydmnDp28gZGUgZmF2b3JpdGFyLlxyXG4gIEBJbnB1dCgncC1wYXJhbXMtc2VydmljZScpIHBhcmFtc1NlcnZpY2U6IG9iamVjdDtcclxuXHJcbiAgZmF2b3JpdGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBsaXRlcmFscztcclxuXHJcbiAgcHJpdmF0ZSBnZXRTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcclxuICBwcml2YXRlIHNldFN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNlcnZpY2U6IFBvQnJlYWRjcnVtYkZhdm9yaXRlU2VydmljZSwgcHJpdmF0ZSBsYW5ndWFnZVNlcnZpY2U6IFBvTGFuZ3VhZ2VTZXJ2aWNlKSB7XHJcbiAgICBjb25zdCBsYW5ndWFnZSA9IGxhbmd1YWdlU2VydmljZS5nZXRTaG9ydExhbmd1YWdlKCk7XHJcblxyXG4gICAgdGhpcy5saXRlcmFscyA9IHtcclxuICAgICAgLi4uUG9CcmVhZGNydW1iTGl0ZXJhbHNbbGFuZ3VhZ2VdXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLnNlcnZpY2UuY29uZmlnU2VydmljZSh0aGlzLmZhdm9yaXRlU2VydmljZSwgdGhpcy5wYXJhbXNTZXJ2aWNlLCB0aGlzLml0ZW1BY3RpdmUpO1xyXG4gICAgdGhpcy5nZXRTdGF0dXNGYXZvcml0ZSgpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5nZXRTdWJzY3JpcHRpb24pIHtcclxuICAgICAgdGhpcy5nZXRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5zZXRTdWJzY3JpcHRpb24pIHtcclxuICAgICAgdGhpcy5zZXRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRvZ2dsZUZhdm9yaXRlQWN0aW9uKCkge1xyXG4gICAgdGhpcy5mYXZvcml0ZSA/IHRoaXMuc2V0U3RhdHVzRmF2b3JpdGUoZmFsc2UpIDogdGhpcy5zZXRTdGF0dXNGYXZvcml0ZSh0cnVlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0U3RhdHVzRmF2b3JpdGUoKSB7XHJcbiAgICB0aGlzLmdldFN1YnNjcmlwdGlvbiA9IHRoaXMuc2VydmljZS5nZXRGYXZvcml0ZSgpLnN1YnNjcmliZShyZXN1bHQgPT4gKHRoaXMuZmF2b3JpdGUgPSByZXN1bHQuaXNGYXZvcml0ZSkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRTdGF0dXNGYXZvcml0ZShzdGF0dXMpIHtcclxuICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uID0gdGhpcy5zZXJ2aWNlXHJcbiAgICAgIC5zZW5kU3RhdHVzRmF2b3JpdGUoc3RhdHVzKVxyXG4gICAgICAuc3Vic2NyaWJlKHJlc3VsdCA9PiAodGhpcy5mYXZvcml0ZSA9IHJlc3VsdC5pc0Zhdm9yaXRlKSk7XHJcbiAgfVxyXG59XHJcbiJdfQ==